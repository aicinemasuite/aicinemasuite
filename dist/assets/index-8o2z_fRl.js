import{r,a as xs,R as ms}from"./vendor-wGySg1uH.js";import{G as hs}from"./genai-6ZP2mgAe.js";import{P as Mt,C as Ft,B as Ut,S as Gt,U as $t,L as us,a as Bt,M as Ht,I as Vt,b as Wt,V as Yt,F as ps,c as Kt,d as qt,R as Jt,e as gs,f as bs,g as Fe,h as fs,i as vs,T as js,j as Ns,Y as ws,k as ys,G as Ss,A as zs,H as Cs,l as As,E as ks,m as Is,n as Ts,o as Es,X as Ps,p as Rs,q as Ls,K as _s,r as Ds,s as Os,t as Ms,u as Fs,v as Us,w as Gs,x as $s,y as Bs,W as Hs,z as Vs,Z as Ws,D as Zt,J as Ys,N as Ks,O as qs,Q as Js}from"./icons-BAagjsnl.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const x of n)if(x.type==="childList")for(const d of x.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function c(n){const x={};return n.integrity&&(x.integrity=n.integrity),n.referrerPolicy&&(x.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?x.credentials="include":n.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function o(n){if(n.ep)return;n.ep=!0;const x=c(n);fetch(n.href,x)}})();var Qt={exports:{}},Ye={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=r,Qs=Symbol.for("react.element"),Xs=Symbol.for("react.fragment"),ea=Object.prototype.hasOwnProperty,ta=Zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sa={key:!0,ref:!0,__self:!0,__source:!0};function Xt(t,s,c){var o,n={},x=null,d=null;c!==void 0&&(x=""+c),s.key!==void 0&&(x=""+s.key),s.ref!==void 0&&(d=s.ref);for(o in s)ea.call(s,o)&&!sa.hasOwnProperty(o)&&(n[o]=s[o]);if(t&&t.defaultProps)for(o in s=t.defaultProps,s)n[o]===void 0&&(n[o]=s[o]);return{$$typeof:Qs,type:t,key:x,ref:d,props:n,_owner:ta.current}}Ye.Fragment=Xs;Ye.jsx=Xt;Ye.jsxs=Xt;Qt.exports=Ye;var e=Qt.exports,Qe={},Rt=xs;Qe.createRoot=Rt.createRoot,Qe.hydrateRoot=Rt.hydrateRoot;var G=(t=>(t.FEATURE_FILM="FEATURE_FILM",t.SHORT_FILM="SHORT_FILM",t.DOCUMENTARY="DOCUMENTARY",t.STARTUP_PITCH="STARTUP_PITCH",t.MUSIC_VIDEO="MUSIC_VIDEO",t))(G||{}),Z=(t=>(t.PITCH_DECK="PITCH_DECK",t.STORYBOARD="STORYBOARD",t.CHARACTER_LAB="CHARACTER_LAB",t.POSTER_LOFT="POSTER_LOFT",t.TRAILER_GEN="TRAILER_GEN",t.SOUND_STAGE="SOUND_STAGE",t.LOCATION_SCOUT="LOCATION_SCOUT",t.SCRIPT_MAGIC="SCRIPT_MAGIC",t.CAST_CREW="CAST_CREW",t.CINEMA_VAULT="CINEMA_VAULT",t.BUDGET_FORGE="BUDGET_FORGE",t))(Z||{}),$=(t=>(t.AUTH="AUTH",t.PROFILE="PROFILE",t.ADMIN="ADMIN",t.SETUP="SETUP",t.STRUCTURE="STRUCTURE",t.STUDIO="STUDIO",t.PRESENTATION="PRESENTATION",t))($||{});const i={Clapperboard:bs,Layout:Mt,Play:Us,Plus:Bs,Save:$s,Trash2:Js,Upload:Gs,Wand2:Hs,ChevronLeft:Ds,ChevronRight:Ys,Minimize2:As,Image:Vt,Grid:Zt,FileText:qt,Video:Yt,User:Fe,Settings:fs,LogOut:Ms,HelpCircle:Cs,Briefcase:qs,Activity:Vs,Users:Bt,Rocket:Jt,Camera:Kt,ArrowRight:Ls,ShieldCheck:Os,Zap:Ks,Mic:Wt,MapPin:Ht,Globe:Ss,Calculator:Ft,ExternalLink:ks,Check:Ts,X:Ps,Info:Es,RotateCcw:Fs,ScrollText:Gt,Sparkles:Rs,UserPlus:$t,Box:Ut,MessageSquare:Is,AlertTriangle:zs,Key:_s,Youtube:ws,Facebook:vs,Twitter:js,Instagram:Ns,Linkedin:ys},Xe="https://picsum.photos/1920/1080";Z.PITCH_DECK,Mt,Z.BUDGET_FORGE,Ft,Z.CINEMA_VAULT,Ut,Z.SCRIPT_MAGIC,Gt,Z.CAST_CREW,$t,Z.STORYBOARD,us,Z.CHARACTER_LAB,Bt,Z.LOCATION_SCOUT,Ht,Z.POSTER_LOFT,Vt,Z.SOUND_STAGE,Wt,Z.TRAILER_GEN,Yt;const aa=[{id:G.FEATURE_FILM,label:"Feature Film",icon:ps,desc:"Full-length cinematic pitch deck"},{id:G.SHORT_FILM,label:"Short Film",icon:Kt,desc:"Concise artistic statement"},{id:G.DOCUMENTARY,label:"Documentary",icon:qt,desc:"Real-world stories & facts"},{id:G.STARTUP_PITCH,label:"Startup Pitch",icon:Jt,desc:"Business model & solution"},{id:G.MUSIC_VIDEO,label:"Music Video",icon:gs,desc:"Visuals synced to audio"}],ia={[G.FEATURE_FILM]:["Action","Adventure","Comedy","Crime","Drama","Fantasy","Horror","Mystery","Romance","Sci-Fi","Thriller","Western","Musical","Noir"],[G.SHORT_FILM]:["Drama","Comedy","Horror","Experimental","Animation","Social Awareness","Thriller"],[G.DOCUMENTARY]:["Nature / Wildlife","History","Biography","True Crime","Social Issue","Science & Tech","Travel","Politics","Music"],[G.STARTUP_PITCH]:["Technology (SaaS)","Fintech","HealthTech","E-commerce","EdTech","GreenTech / Sustainability","AI / ML","Consumer App","Hardware"],[G.MUSIC_VIDEO]:["Pop","Hip Hop / Rap","Rock","Indie / Alternative","Electronic / EDM","R&B","Classical","Folk","Metal"]},Lt={[G.FEATURE_FILM]:[{title:"Title Poster",description:"The visual face of your film",placeholderText:"Title, Tagline, and a striking key visual."},{title:"Logline & Hook",description:"The elevator pitch",placeholderText:"A one-sentence summary that hooks the reader instantly."},{title:"Story Synopsis",description:"The narrative arc",placeholderText:"A compelling summary of the plot (Act 1, 2, 3)."},{title:"Hero Character",description:"Protagonist details",placeholderText:"Name, Age, Core Desire, and Flaw."},{title:"Antagonist",description:"The villain or force of opposition",placeholderText:"Who stops the hero? What do they want?"},{title:"Key Supporting Cast",description:"Allies and mentors",placeholderText:"Brief descriptions of 2-3 other key characters."},{title:"Visual Style",description:"Cinematography & tone",placeholderText:"Lighting, color palette, camera movement, and mood."},{title:"Key Scenes",description:"Signature moments",placeholderText:"Describe 3 unforgettable visual moments from the film."},{title:"Theme & Tone",description:"Emotional core",placeholderText:"What is the film really about? (Love, Revenge, Survival?)"},{title:"Story World",description:"Setting & locations",placeholderText:"Where does it take place? What makes the world unique?"},{title:"Director's Vision",description:"Why this film?",placeholderText:"Your personal connection and directorial approach."},{title:"Moodboard",description:"Visual collage",placeholderText:"Textures, colors, and feelings (Use images mostly)."},{title:"Target Audience",description:"Who will watch this?",placeholderText:"Demographics, psychographics, and similar film fans."},{title:"Comparable Films",description:"Market references",placeholderText:"Film A meets Film B."},{title:"Budget & ROI",description:"Financial overview",placeholderText:"Estimated budget and potential box office returns."},{title:"Production Timeline",description:"Schedule",placeholderText:"Pre-production, Shooting, and Post-production dates."},{title:"Marketing Strategy",description:"Distribution plan",placeholderText:"Festivals, Theatrical release, OTT strategy."},{title:"Team Profiles",description:"Key crew",placeholderText:"Writer, Director, Producer bios."},{title:"Music & Sound",description:"Auditory landscape",placeholderText:"Score style, key songs, sound design notes."},{title:"End Credits",description:"Contact info",placeholderText:"Production company contact details and rights info."}],[G.SHORT_FILM]:[{title:"Title Card",description:"Film Identity",placeholderText:"Title and Tagline."},{title:"Concept & Theme",description:"Core Idea",placeholderText:"The central metaphor or message."},{title:"Character Study",description:"Protagonist",placeholderText:"Who are we following?"},{title:"Visual Aesthetic",description:"Look & Feel",placeholderText:"Camera style and color grading."},{title:"Script Summary",description:"Plot",placeholderText:"Beginning, Middle, End."},{title:"Distribution Plan",description:"Festival Circuit",placeholderText:"Target festivals and online platforms."},{title:"Budget Estimation",description:"Cost breakdown",placeholderText:"Production costs and funding sources."}],[G.DOCUMENTARY]:[{title:"Title & Subject",description:"The Topic",placeholderText:"What is this documentary about?"},{title:"The 'Why Now?'",description:"Relevance",placeholderText:"Why does this story need to be told today?"},{title:"Subject Access",description:"Feasibility",placeholderText:"Who are you interviewing? Do you have access?"},{title:"Narrative Arc",description:"Story structure",placeholderText:"How will the story unfold?"},{title:"Visual Approach",description:"Style",placeholderText:"Observational, Archival, Re-enactment?"},{title:"Impact Campaign",description:"Social Goal",placeholderText:"What change do you want to create?"},{title:"Budget & Funding",description:"Financials",placeholderText:"Grant requirements and total budget."}],[G.STARTUP_PITCH]:[{title:"Cover Slide",description:"Company Intro",placeholderText:"Logo and One-liner."},{title:"The Problem",description:"Pain Point",placeholderText:"What is broken in the market?"},{title:"The Solution",description:"Product/Service",placeholderText:"How do you solve it?"},{title:"Market Size",description:"TAM/SAM/SOM",placeholderText:"How big is the opportunity?"},{title:"Business Model",description:"Revenue",placeholderText:"How do you make money?"},{title:"Competition",description:"Landscape",placeholderText:"Who else is doing this? Why are you better?"},{title:"Go-to-Market",description:"Strategy",placeholderText:"How will you get customers?"},{title:"Team",description:"Founders",placeholderText:"Why are you the right team?"},{title:"Financial Projections",description:"Growth",placeholderText:"Revenue goals for next 3-5 years."}],[G.MUSIC_VIDEO]:[{title:"Track Title & Artist",description:"Song Info",placeholderText:"Artist name and Track title."},{title:"Concept Note",description:"Core Idea",placeholderText:"The visual hook."},{title:"Lyrics & Themes",description:"Interpretation",placeholderText:"Key lyrics and their visual meaning."},{title:"Visual References",description:"Inspiration",placeholderText:"Images that inspire the look."},{title:"Color Palette",description:"Colors",placeholderText:"Primary and secondary colors."},{title:"Styling & Costume",description:"Wardrobe",placeholderText:"Look for the artist/actors."},{title:"Locations",description:"Settings",placeholderText:"Where will it be shot?"},{title:"Production Timeline",description:"Schedule",placeholderText:"Shoot dates and edit deadline."}]},ra=["Christopher Nolan (IMAX scale, Practical effects, Time manipulation)","Wes Anderson (Symmetry, Pastel Palette, Flat composition)","Satyajit Ray (Humanism, Natural lighting, Realistic composition)","S.S. Rajamouli (Grandeur, Epic scale, Mythic lighting)","Mani Ratnam (Silhouette lighting, Realistic textures, Intimate grandeur)","Quentin Tarantino (Crash zooms, Low angles, Vibrant colors)","Roger Deakins (Cinematographer - Silhouettes, Practical lighting)","Zack Snyder (High contrast, Slow motion, Speed ramping)","Ridley Scott (Atmospheric, Smoke/Haze, High detail)","Denis Villeneuve (Brutalist architecture, Minimalist, Scale)","Wong Kar-wai (Step-printing, Neon, Motion blur, Intimacy)","Steven Spielberg (Backlighting, Wonder, Smooth tracking)","Lijo Jose Pellissery (Chaos, Long takes, Crowd dynamics)","Amal Neerad (Slow motion, Stylish framing, High contrast)","Anjali Menon (Warm tones, Naturalistic, Emotional intimacy)","Stanley Kubrick (One-point perspective, Clinical detachment)","Tim Burton (Gothic, German Expressionism, Whimsical dark)","David Fincher (Low key lighting, Green/Yellow tint, Controlled)","Greta Gerwig (Warmth, Soft focus, Emotional framing)","Bong Joon-ho (Sharp focus, Genre-bending, Dynamic staging)"],na=[{id:"XCU",label:"XCU (Extreme Close Up)",icon:Ws},{id:"CU",label:"CU (Close Up)",icon:Fe},{id:"MCU",label:"MCU (Medium Close Up)",icon:Fe},{id:"COWBOY",label:"Cowboy (Mid-Thigh)",icon:Fe},{id:"FULL",label:"Full Shot (Head to Toe)",icon:Fe},{id:"WIDE",label:"Wide / Master",icon:Zt}],la=[{id:"EYE",label:"Eye Level (Neutral)"},{id:"LOW",label:"Low Angle (Heroic)"},{id:"HIGH",label:"High Angle (Vulnerable)"},{id:"DUTCH",label:"Dutch Tilt (Unease)"},{id:"OVERHEAD",label:"Bird's Eye (God view)"}],oa=[{id:"14mm",label:"14mm (Ultra Wide)",desc:"Distorted, Epic"},{id:"24mm",label:"24mm (Wide)",desc:"Landscape, Context"},{id:"35mm",label:"35mm (Standard)",desc:"Human Eye"},{id:"50mm",label:"50mm (Portrait)",desc:"Neutral, Realistic"},{id:"85mm",label:"85mm (Telephoto)",desc:"Flattering, Compressed"},{id:"200mm",label:"200mm (Zoom)",desc:"Isolated, Flat"}],ca=[{id:"Puck",label:"Puck (Male, Playful)",gender:"Male"},{id:"Charon",label:"Charon (Male, Deep)",gender:"Male"},{id:"Kore",label:"Kore (Female, Calm)",gender:"Female"},{id:"Fenrir",label:"Fenrir (Male, Intense)",gender:"Male"},{id:"Aoede",label:"Aoede (Female, Expressive)",gender:"Female"}],et={en:{startProject:"Start Project",movieTitle:"Project Title",genre:"Genre / Category",director:"Creator Name",logline:"Logline / One-Liner",fullScript:"Full Script / Business Plan",uploadScript:"Upload File",structureTitle:"Structure Your Pitch",openStudio:"Open Studio",slideTitle:"Slide Title",action:"Action",addNewSlide:"Add New Slide",save:"Save",presentDeck:"Present Deck",slideDeck:"SLIDE DECK",storyBoard:"STORY BOARD",mediaLibrary:"TRAILER ROOM",characters:"CHARACTER LAB",posters:"POSTER LOFT",soundStage:"SOUND STAGE",locationScout:"Location Scout",scriptMagic:"Script Magic",castCrew:"Cast & Crew",cinemaVault:"Cinema Vault",budgetForge:"BudgetForge",addSlide:"Add Slide",textContent:"Text Content",aiWrite:"AI Write",visualAsset:"Visual Asset",aiPrompt:"AI Image Prompt",generateImage:"Generate Image",orUpload:"Or Upload",chooseFile:"Choose File",directorStyle:"Director / Visual Style",visualReference:"Visual Reference",generating:"Generating...",previewMode:"Preview Mode",resume:"Resume Last Project",uploadPlaceholder:"Paste your story here or upload a file...",addNextScene:"Add Next Scene (+)",usePrompt:"Use This Prompt",sceneHeading:"Scene Heading",plotAction:"Action / Plot",visualNote:"Visual Note",generateTrailer:"Generate AI Trailer",trailerPrompt:"Trailer Visual Description",myProfile:"My Profile",adminDashboard:"Admin Dashboard",logout:"Logout",helpFaq:"Help & FAQ",selectCategory:"Select Project Category",backToCategories:"Back to Categories",selectService:"What would you like to create?",quickStart:"Quick Start",generateAudio:"Generate Audio",voicePrompt:"Dialogue / Narration Text",industryParam:"Industry Scale",scaleParam:"Budget Scale",daysParam:"Shooting Days",currencyToggle:"Currency",calculateBtn:"Calculate Estimate",totalBudgetTitle:"Total Estimated Budget",riskTitle:"AI Risk Analysis",aboveLineTitle:"Above The Line (Creative)",belowLineTitle:"Below The Line (Production)",printBtn:"Save / Print Estimate",posterComposition:"Layout / Composition",posterPalette:"Color Palette",styleRef:"Style Reference Image"},ml:{startProject:"പ്രോജക്റ്റ് തുടങ്ങുക",movieTitle:"പ്രോജക്റ്റ് പേര്",genre:"തരം / ജേണർ",director:"സ്രഷ്ടാവ്",logline:"കഥാസാരം / ആശയം",fullScript:"മുഴുവൻ വിവരണം / തിരക്കഥ",uploadScript:"ഫയൽ അപ്‌ലോഡ്",structureTitle:"പിച്ച് ഡെക്ക് ഘടന",openStudio:"സ്റ്റുഡിയോ തുറക്കൂ",slideTitle:"സ്ലൈഡ് തലക്കെട്ട്",action:"പ്രവർത്തി",addNewSlide:"പുതിയ സ്ലൈഡ് ചേർക്കൂ",save:"സേവ് ചെയ്യുക",presentDeck:"പ്രസന്റേഷൻ",slideDeck:"സ്ലൈഡ് ഡെക്ക്",storyBoard:"സ്റ്റോറി ബോർഡ്",mediaLibrary:"ട്രെയിലർ റൂം",characters:"കഥാപാത്രങ്ങൾ",posters:"പോസ്റ്റർ ഡിസൈൻ",soundStage:"ശബ്ദ സ്റ്റുഡിയോ",locationScout:"ലൊക്കേഷൻ സ്കൗട്ട്",scriptMagic:"തിരക്കഥ മാജിക്",castCrew:"താരങ്ങളും അണിയറക്കാരും",cinemaVault:"സിനിമ വോൾട്ട്",budgetForge:"ബജറ്റ് ഫോർജ് (എസ്റ്റിമേറ്റ്)",addSlide:"സ്ലൈഡ് ചേർക്കുക",textContent:"ഉള്ളടക്കം (Text)",aiWrite:"AI എഴുതുക",visualAsset:"ദൃശ്യങ്ങൾ (Visuals)",aiPrompt:"AI ഇമേജ് വിവരണം",generateImage:"ചിത്രം സൃഷ്ടിക്കുക",orUpload:"അല്ലെങ്കിൽ അപ്‌ലോഡ്",chooseFile:"ഫയൽ തിരഞ്ഞെടുക്കൂ",directorStyle:"സംവിധാന ശൈലി",visualReference:"ദൃശ്യ മാതൃക",generating:"നിർമ്മിക്കുന്നു...",previewMode:"പ്രിവ്യൂ മോഡ്",resume:"മുമ്പത്തെ പ്രോജക്റ്റ് തുടരുക",uploadPlaceholder:"വിവരണം ഇവിടെ പേസ്റ്റ് ചെയ്യുക അല്ലെങ്കിൽ ഫയൽ അപ്‌ലോഡ് ചെയ്യുക...",addNextScene:"അടുത്ത സീൻ ചേർക്കുക (+)",usePrompt:"ഈ വിവരണം ഉപയോഗിക്കുക",sceneHeading:"സീൻ തലക്കെട്ട്",plotAction:"പ്രവർത്തി / കഥാസന്ദർഭം",visualNote:"ദൃശ്യ വിവരണം",generateTrailer:"AI ട്രെയിലർ നിർമ്മിക്കുക",trailerPrompt:"ട്രെയിലർ വിവരണം",myProfile:"എന്റെ പ്രൊഫൈൽ",adminDashboard:"അഡ്മിൻ ഡാഷ്ബോർഡ്",logout:"ലോഗൗട്ട്",helpFaq:"സഹായം / FAQ",selectCategory:"വിഭാഗം തിരഞ്ഞെടുക്കുക",backToCategories:"തിരികെ പോവുക",selectService:"നിങ്ങൾക്ക് എന്താണ് നിർമ്മിക്കേണ്ടത്?",quickStart:"വേഗത്തിൽ തുടങ്ങുക",generateAudio:"ശബ്ദം സൃഷ്ടിക്കുക",voicePrompt:"സംഭാഷണം / വിവരണം",industryParam:"സിനിമ മേഖല",scaleParam:"ബജറ്റ് സ്കെയിൽ",daysParam:"ഷൂട്ടിംഗ് ദിവസങ്ങൾ",currencyToggle:"കറൻസി",calculateBtn:"എസ്റ്റിമേറ്റ് കണക്കാക്കുക",totalBudgetTitle:"ആകെ ബജറ്റ്",riskTitle:"റിസ്ക് അനാലിസിസ്",aboveLineTitle:"അബ് എ ലൈൻ (ക്രിയേറ്റീവ്)",belowLineTitle:"ബിലോ എ ലൈൻ (പ്രൊഡക്ഷൻ)",printBtn:"പ്രിന്റ് ചെയ്യുക",posterComposition:"ലേഔട്ട് / ഘടന",posterPalette:"നിറങ്ങൾ (Palette)",styleRef:"സ്റ്റൈൽ റെഫറൻസ് ചിത്രം"}},Ue=()=>new hs({apiKey:""}),da=[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_ONLY_HIGH"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_ONLY_HIGH"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_ONLY_HIGH"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_ONLY_HIGH"}],xa=t=>{var s;for(const c of t.candidates||[])if((s=c.content)!=null&&s.parts){for(const o of c.content.parts)if(o.inlineData&&o.inlineData.data)return`data:${o.inlineData.mimeType};base64,${o.inlineData.data}`}return null},Ke=async(t,s)=>{const c=Ue(),o=["gemini-2.5-flash-image","gemini-3-pro-image-preview"];for(const n of o)try{const x=await c.models.generateContent({model:n,contents:t,config:{imageConfig:{aspectRatio:s},safetySettings:da}}),d=xa(x);if(d)return d}catch(x){console.warn(`Image generation failed with model ${n}.`,x.message),n===o[o.length-1]&&console.error("All image generation attempts failed.")}return null},ma=async(t,s,c)=>{var o;try{const n=Ue(),x="gemini-2.5-flash",d=t.language==="ml"?"Write the output content strictly in Malayalam language (മലയാളം).":"Write the output in English.";let h="expert film producer";t.projectType===G.STARTUP_PITCH&&(h="venture capital consultant"),t.projectType===G.DOCUMENTARY&&(h="documentary researcher");let b=`
      You are an ${h} helping to write a pitch deck.
      
      Project Details:
      Type: ${t.projectType}
      Title: ${t.title}
      Genre/Category: ${t.genre}
      Logline: ${t.logline}
      Creator: ${t.director}
      
      FULL CONTEXT (Script/Plan):
      ${t.fullScript?t.fullScript.substring(0,2e4):"No full details provided, use logline."}

      Task: Write professional, compelling content for a pitch deck slide titled "${s}".
      
      Context/Existing Content: ${c||"None provided yet."}

      Requirements:
      - ${d}
      - Keep it concise (under 150 words).
      - Use industry-standard terminology for ${t.projectType}.
      - Make it persuasive.
      - Return ONLY the content text, no markdown formatting like **bold** headers if possible.
    `;return(s.includes("Budget")||s.includes("ROI")||s.includes("Financial"))&&(b+=`
        SPECIAL INSTRUCTION: Analyze the project complexity. Estimate a realistic budget/financials.
        For Movies: Estimate in Crores (₹ Cr) for Indian Context.
        For Startups: Estimate in USD/INR ($ or ₹) for seed/Series A funding.
        Break down costs appropriately.
      `),((o=(await n.models.generateContent({model:x,contents:b})).text)==null?void 0:o.trim())||""}catch(n){return console.error("Content Gen Error:",n),"Error generating content. Please check your API Key."}},es=async(t,s,c,o)=>{var n;try{const x=Ue(),d="gemini-2.5-flash",h=`
      Act as a visual prompt engineer for high-end AI image generators.
      
      Project Concept:
      Type: ${t.projectType}
      Title: ${t.title}
      Genre: ${t.genre}
      
      Visual Context:
      Subject: ${s}
      Description: ${c}
      
      Specific Style Instructions: ${o||"Cinematic, Photorealistic"}

      Task: Write a highly detailed, descriptive image prompt.
      
      Requirements:
      - ALWAYS write the prompt in ENGLISH.
      - Include camera angles, lighting, color palette, and mood.
      - Focus on the visual essence of the subject.
      - Output ONLY the prompt string.
    `;return((n=(await x.models.generateContent({model:d,contents:h})).text)==null?void 0:n.trim())||""}catch(x){return console.error("Prompt Gen Error:",x),"Cinematic shot, 8k resolution, highly detailed, dramatic lighting --ar 16:9"}},ts=async(t,s="16:9")=>{let c="16:9";return s==="1:1"&&(c="1:1"),s==="2:3"&&(c="3:4"),Ke({parts:[{text:t}]},c)},ha=async(t,s)=>{var d;let c="";const o=[];if(t.characterRefId){const h=(d=s.characters)==null?void 0:d.find(b=>b.id===t.characterRefId);if(h&&h.imageUrl){const b=h.imageUrl.split(",")[1];b&&(o.push({inlineData:{mimeType:"image/png",data:b}}),c="REFERENCE CHARACTER: Use the facial features and identity of the character in the attached image. ")}}else if(t.referenceImageUrl){const h=t.referenceImageUrl.split(",")[1];h&&(o.push({inlineData:{mimeType:"image/png",data:h}}),c="REFERENCE IMAGE: Use the style or character features from the attached image as a key reference. ")}const n=`
    Create a High Quality Movie Poster.
    ${c}
    
    Details:
    Title: ${t.title}
    Tagline: ${t.tagline}
    Visual Description: ${t.prompt}
    Style: ${t.style}
    
    Requirements: 
    - Cinematic lighting, professional composition.
    - High resolution text rendering for the Title if possible.
    - ${c?"Maintain strict consistency with the reference image provided.":""}
  `;o.push({text:n});let x="3:4";return t.aspectRatio==="16:9"&&(x="16:9"),t.aspectRatio==="1:1"&&(x="1:1"),t.aspectRatio==="2:3"&&(x="3:4"),Ke({parts:o},x)},ua=async(t,s)=>{const c=[];let o="";if(t.referenceImageUrl){const d=t.referenceImageUrl.split(",")[1];d&&(c.push({inlineData:{mimeType:"image/png",data:d}}),o+="REFERENCE IMAGE 1 (FACE/IDENTITY): Use this image as the strict reference for the character's facial features and identity. ")}if(t.actionReferenceImageUrl){const d=t.actionReferenceImageUrl.split(",")[1];d&&(c.push({inlineData:{mimeType:"image/png",data:d}}),o+="REFERENCE IMAGE 2 (POSE/BODY): Use this image as the reference for the character's pose, body language, and action. ")}const n=`
    ${o}
    
    Generate a Character Design / Portrait.
    Description: ${s}
    
    ${o?"Ensure consistency with provided reference images.":""}
  `;c.push({text:n});let x="1:1";return t.aspectRatio==="16:9"&&(x="16:9"),t.aspectRatio==="2:3"&&(x="3:4"),Ke({parts:c},x)},pa=async(t,s)=>{const c=[s.lensType?`${s.lensType} lens`:"",s.cameraAngle?`${s.cameraAngle} shot`:"",s.shotSize?`${s.shotSize}`:"",s.imageStyle?`Art Style: ${s.imageStyle}`:"",s.colorGrade?`Color Grading/Mood: ${s.colorGrade}`:""].filter(Boolean).join(", "),o=`
    Create a Wide 16:9 Cinematic Storyboard Image.
    Scene Action: ${s.action}
    Camera & Visual Specs: ${c}
    General Style: ${s.imageStyle||"Realistic cinematic storyboard"}
    Lighting: High contrast, dynamic composition, cinematic lighting.
    Format: Landscape 16:9 Aspect Ratio.
  `,n=[];let x="";const d=(h,b)=>{var w;const f=(w=t.characters)==null?void 0:w.find(m=>m.id===h);if(f&&f.imageUrl){const m=f.imageUrl.split(",")[1];if(m)return n.push({inlineData:{mimeType:"image/png",data:m}}),`The character in the attached image is ${f.name} (${b}). `}return""};return s.characterRef1Id&&(x+=d(s.characterRef1Id,"Character A")),s.characterRef2Id&&(x+=d(s.characterRef2Id,"Character B")),x&&(x+="MAINTAIN CHARACTER CONSISTENCY. Use the visual features (face, hair, clothes) from the reference image(s) for the characters in this scene."),n.push({text:`${x}

${o}`}),Ke({parts:n},"16:9")},ga=async(t,s)=>{var c;try{const o=Ue(),n="gemini-2.5-flash",x=s.map(a=>`${a.heading}: ${a.action}`).join(`
`),d=`
      You are a storyboard artist and script breakdown specialist.
      
      Project: ${t.title} (${t.projectType})
      
      Full Story: ${t.fullScript?t.fullScript.substring(0,15e3):t.logline}

      Already Generated Scenes:
      ${x}

      Task: Identify the NEXT key logical scene or beat.
      
      Output Format (Strictly Text with delimiters):
      HEADING: [Scene Heading]
      ACTION: [Brief description]
      PROMPT: [A highly detailed English visual prompt]
    `,b=((c=(await o.models.generateContent({model:n,contents:d,config:{responseMimeType:"text/plain"}})).text)==null?void 0:c.trim())||"",f=b.match(/HEADING:\s*(.+)/),w=b.match(/ACTION:\s*(.+)/),m=b.match(/PROMPT:\s*(.+)/);return f&&w&&m?{id:`scene-${Date.now()}`,heading:f[1].trim(),action:w[1].trim(),visualPrompt:m[1].trim(),shotSize:"Wide / Master",cameraAngle:"Eye Level",lensType:"35mm",imageStyle:"Hyper Realistic",colorGrade:"Cinematic"}:null}catch(o){return console.error("Scene Gen Error:",o),null}},ba=async(t,s)=>{try{const c=Ue(),o="gemini-2.5-flash",n=t.map(h=>({role:h.role==="user"?"user":"model",parts:[{text:h.content}]}));return(await c.chats.create({model:o,history:n,config:{systemInstruction:"You are the 'AI Cinema Master', an expert filmmaking assistant for the application AICINEMASUITE.com."}}).sendMessage({message:s})).text}catch(c){return console.error("Chat Bot Error:",c),"I'm having trouble connecting to the studio server. Please check your API Key."}},_t=t=>{const s=t.split(";base64,"),c=s[0].split(":")[1],o=window.atob(s[1]),n=o.length,x=new Uint8Array(n);for(let d=0;d<n;++d)x[d]=o.charCodeAt(d);return new Blob([x],{type:c})},Dt=t=>new Promise((s,c)=>{const o=new FileReader;o.onloadend=()=>s(o.result),o.onerror=c,o.readAsDataURL(t)});class Ae{static async save(s,c,o,n){if(!window.JSZip)throw new Error("Export libraries (JSZip) not loaded.");console.log("ProjectIO: Packaging project...");const x=await Ae.generateProjectZip(s,c,o);try{if(n)return console.log("ProjectIO: Saving to existing handle..."),await Ae.writeFileToHandle(n,x),n;if(window.showSaveFilePicker){console.log("ProjectIO: Opening Save As dialog...");const h=s.title?s.title.replace(/[^a-z0-9]/gi,"_").toLowerCase():"project",b=await window.showSaveFilePicker({suggestedName:`${h}.cinepitch`,types:[{description:"CinePitch Project File",accept:{"application/zip":[".cinepitch"]}}]});return await Ae.writeFileToHandle(b,x),b}}catch(h){if(h.name==="AbortError")return console.log("Save cancelled by user."),null;console.warn("Smart Save failed (likely iframe/security restriction). Falling back to standard download.",h)}if(console.log("ProjectIO: Fallback to download."),!window.saveAs)throw new Error("FileSaver not loaded");const d=s.title?s.title.replace(/[^a-z0-9]/gi,"_").toLowerCase():"project";return window.saveAs(x,`${d}.cinepitch`),null}static async writeFileToHandle(s,c){const o=await s.createWritable();await o.write(c),await o.close()}static async generateProjectZip(s,c,o){const n=new window.JSZip,x=n.folder("assets"),d=JSON.parse(JSON.stringify(s)),h=JSON.parse(JSON.stringify(c)),b=(m,a,j)=>{if(m[a]&&typeof m[a]=="string"&&m[a].startsWith("data:")){const T=m[a].substring(5,m[a].indexOf(";")).split("/")[1],_=`${j}_${Date.now()}_${Math.random().toString(36).substr(2,5)}.${T}`;x.file(_,_t(m[a])),m[a]=`asset://${_}`}},f=async()=>{if(d.videos)for(let m=0;m<d.videos.length;m++){const a=d.videos[m];if(a.url&&a.url.startsWith("blob:"))try{const S=await(await fetch(a.url)).blob(),T=S.type.split("/")[1]||"mp4",_=`video_${m}_${Date.now()}.${T}`;x.file(_,S),a.url=`asset://${_}`}catch{console.warn("Failed to export video blob",a.url)}else a.url&&a.url.startsWith("data:")&&b(a,"url",`video_${m}`)}};h.forEach((m,a)=>b(m,"imageUrl",`slide_${a}`)),d.characters&&d.characters.forEach((m,a)=>{b(m,"imageUrl",`char_${a}`),b(m,"referenceImageUrl",`char_ref_${a}`),b(m,"actionReferenceImageUrl",`char_act_${a}`)}),d.showcaseScenes&&d.showcaseScenes.forEach((m,a)=>{b(m,"imageUrl",`scene_${a}`),m.generatedVariants&&(m.generatedVariants=m.generatedVariants.map((j,S)=>{if(j.startsWith("data:")){const T=`scene_${a}_var_${S}.png`;return x.file(T,_t(j)),`asset://${T}`}return j}))}),d.posters&&d.posters.forEach((m,a)=>b(m,"imageUrl",`poster_${a}`)),d.castList&&d.castList.forEach((m,a)=>{b(m,"characterImage",`cast_char_${a}`),b(m,"actorImage",`cast_actor_${a}`)}),d.vaultItems&&d.vaultItems.forEach((m,a)=>b(m,"url",`vault_${a}`)),await f();const w={version:"3.4",timestamp:new Date().toISOString(),activeSlideId:o};return n.file("project.json",JSON.stringify(d)),n.file("slides.json",JSON.stringify(h)),n.file("meta.json",JSON.stringify(w)),await n.generateAsync({type:"blob",compression:"DEFLATE"})}static async load(s){if(!window.JSZip)throw new Error("JSZip not found");console.log("ProjectIO: Loading Smart Project...");const o=await new window.JSZip().loadAsync(s);if(!o.file("project.json"))throw new Error("Invalid file format (missing project.json)");const n=await o.file("project.json").async("string"),x=await o.file("slides.json").async("string"),d=await o.file("meta.json").async("string"),h=JSON.parse(n),b=JSON.parse(x),f=JSON.parse(d),w=o.folder("assets"),m=async(a,j,S=!1)=>{if(a[j]&&typeof a[j]=="string"&&a[j].startsWith("asset://")){const T=a[j].replace("asset://",""),_=w==null?void 0:w.file(T);if(_){const U=await _.async("blob");S?a[j]=URL.createObjectURL(U):a[j]=await Dt(U)}}};for(const a of b)await m(a,"imageUrl");if(h.characters)for(const a of h.characters)await m(a,"imageUrl"),await m(a,"referenceImageUrl"),await m(a,"actionReferenceImageUrl");if(h.showcaseScenes){for(const a of h.showcaseScenes)if(await m(a,"imageUrl"),a.generatedVariants){const j=[];for(const S of a.generatedVariants)if(S.startsWith("asset://")){const T=S.replace("asset://",""),_=w==null?void 0:w.file(T);if(_){const U=await _.async("blob");j.push(await Dt(U))}else j.push(null)}else j.push(S);a.generatedVariants=j.filter(Boolean)}}if(h.posters)for(const a of h.posters)await m(a,"imageUrl");if(h.castList)for(const a of h.castList)await m(a,"characterImage"),await m(a,"actorImage");if(h.videos)for(const a of h.videos)await m(a,"url",!0);if(h.vaultItems)for(const a of h.vaultItems)await m(a,"url");return{project:h,slides:b,activeSlideId:f.activeSlideId}}}const I=({children:t,variant:s="primary",className:c="",icon:o,isLoading:n,...x})=>{const d="inline-flex items-center justify-center px-4 py-2 rounded-md font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-zinc-900 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-zinc-100 text-zinc-900 hover:bg-white focus:ring-zinc-500",secondary:"bg-zinc-800 text-zinc-100 hover:bg-zinc-700 focus:ring-zinc-600 border border-zinc-700",accent:"bg-amber-600 text-white hover:bg-amber-500 focus:ring-amber-500 shadow-[0_0_15px_rgba(217,119,6,0.3)]",danger:"bg-red-900/50 text-red-200 hover:bg-red-900/80 border border-red-800/50",ghost:"bg-transparent text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800/50"};return e.jsxs("button",{className:`${d} ${h[s]} ${c}`,disabled:n||x.disabled,...x,children:[n?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o?e.jsx("span",{className:"mr-2",children:o}):null,t]})},fa=({project:t,setProject:s,onStart:c,onResume:o,onLoadFromFile:n,hasSavedProject:x,onReset:d})=>{const h=r.useRef(null),b=r.useRef(null),f=et[t.language],[w,m]=r.useState(G.FEATURE_FILM),[a,j]=r.useState({}),[S,T]=r.useState([]);r.useEffect(()=>{j({fb:localStorage.getItem("cinepitch_social_facebook")||"",x:localStorage.getItem("cinepitch_social_twitter")||"",insta:localStorage.getItem("cinepitch_social_instagram")||"",yt:localStorage.getItem("cinepitch_youtube_link")||"",linkedin:localStorage.getItem("cinepitch_social_linkedin")||""});const N=localStorage.getItem("cinepitch_custom_social_links");if(N)try{T(JSON.parse(N))}catch(A){console.error("Error loading custom links",A)}},[]);const _=N=>{var Y;const A=(Y=N.target.files)==null?void 0:Y[0];if(A){const K=new FileReader;K.onload=te=>{var de;const ce=(de=te.target)==null?void 0:de.result;s({...t,fullScript:ce})},K.readAsText(A)}},U=N=>{m(N),s({...t,projectType:N,genre:""})},ie=()=>{s({...t,serviceType:Z.PITCH_DECK}),c("DECK")},R=()=>{d?d():s({...t,title:"",genre:"",logline:"",director:"",fullScript:"",projectType:G.FEATURE_FILM,serviceType:Z.PITCH_DECK,showcaseScenes:[],characters:[],posters:[],audioAssets:[],videos:[],locations:[]}),m(G.FEATURE_FILM),h.current&&(h.current.value="")},ee=ia[w]||[],re=Object.values(a).some(N=>typeof N=="string"&&N.length>0)||S.length>0;return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center p-4 relative",style:{backgroundImage:"url('https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?q=80&w=2070&auto=format&fit=crop')"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),e.jsxs("div",{className:"absolute top-6 left-6 z-20 flex items-center gap-2 text-white",children:[e.jsx(i.Clapperboard,{size:24,className:"text-amber-500"}),e.jsxs("div",{className:"font-bold cinematic-font tracking-widest text-lg flex items-center",children:[e.jsx("span",{children:"AICINEMASUITE"}),e.jsx("span",{className:"text-amber-500",children:".COM"})]})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-6xl bg-zinc-950/95 border border-zinc-800 rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row h-[85vh] max-h-[900px]",children:[e.jsxs("div",{className:"w-full md:w-64 bg-zinc-900/50 border-r border-zinc-800 p-6 flex flex-col gap-4 shrink-0",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:R,className:"group flex items-center gap-2 hover:bg-zinc-800/50 -ml-2 px-2 py-1 rounded transition-colors w-full text-left",title:"Click to reset form",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-1 group-hover:text-amber-500 transition-colors",children:"New Project"}),e.jsx(i.RotateCcw,{size:16,className:"text-zinc-500 group-hover:text-amber-500 opacity-0 group-hover:opacity-100 transition-all"})]}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Enter details to initialize your creative studio session."})]}),e.jsxs("div",{className:"mt-auto space-y-3",children:[x&&o&&e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-900 border border-zinc-800",children:[e.jsx("h4",{className:"text-xs font-bold text-zinc-400 mb-2",children:"Previous Session"}),e.jsxs(I,{variant:"secondary",onClick:o,className:"w-full text-xs justify-start",children:[e.jsx(i.Play,{size:14,className:"mr-2 text-green-500"})," Resume Last"]})]}),n&&e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-900 border border-zinc-800",children:[e.jsx("h4",{className:"text-xs font-bold text-zinc-400 mb-2",children:"Load From File"}),e.jsx("input",{type:"file",ref:b,className:"hidden",accept:".cinepitch,.json",onChange:n}),e.jsxs(I,{variant:"secondary",onClick:()=>{var N;return(N=b.current)==null?void 0:N.click()},className:"w-full text-xs justify-start",children:[e.jsx(i.Upload,{size:14,className:"mr-2 text-blue-500"})," Open .cinepitch"]})]}),re&&e.jsxs("div",{className:"pt-4 mt-2 border-t border-zinc-800 flex justify-center gap-3 flex-wrap",children:[a.fb&&e.jsx("a",{href:a.fb,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-blue-500 transition-colors p-1",title:"Facebook",children:e.jsx(i.Facebook,{size:16})}),a.x&&e.jsx("a",{href:a.x,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-white transition-colors p-1",title:"X (Twitter)",children:e.jsx(i.Twitter,{size:16})}),a.insta&&e.jsx("a",{href:a.insta,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-pink-500 transition-colors p-1",title:"Instagram",children:e.jsx(i.Instagram,{size:16})}),a.yt&&e.jsx("a",{href:a.yt,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-red-600 transition-colors p-1",title:"YouTube",children:e.jsx(i.Youtube,{size:16})}),a.linkedin&&e.jsx("a",{href:a.linkedin,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-blue-400 transition-colors p-1",title:"LinkedIn",children:e.jsx(i.Linkedin,{size:16})}),S.map(N=>e.jsx("a",{href:N.url,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-amber-500 transition-colors p-1",title:N.label,children:e.jsx(i.Globe,{size:16})},N.id))]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-zinc-950/50",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 h-full",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-zinc-800 pb-2",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-amber-600 flex items-center justify-center text-xs font-bold text-white",children:"1"}),e.jsx("h3",{className:"font-bold text-white uppercase tracking-wider text-sm",children:"Project Metadata"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:f.movieTitle}),e.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none transition-all placeholder-zinc-700",placeholder:"e.g. The Last Horizon",value:t.title,onChange:N=>s({...t,title:N.target.value}),autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Project Category"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:aa.map(N=>e.jsxs("button",{onClick:()=>U(N.id),className:`p-3 rounded-lg border text-left flex items-center gap-3 transition-all ${t.projectType===N.id?"bg-amber-600/20 border-amber-600 text-white":"bg-zinc-900 border-zinc-800 text-zinc-400 hover:bg-zinc-800"}`,children:[e.jsx(N.icon,{size:18}),e.jsx("span",{className:"text-xs font-bold",children:N.label})]},N.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:f.genre}),e.jsxs("select",{className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none appearance-none text-sm",value:t.genre,onChange:N=>s({...t,genre:N.target.value}),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Genre..."}),ee.map(N=>e.jsx("option",{value:N,children:N},N)),e.jsx("option",{value:"Other",children:"Other / Mixed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Language"}),e.jsxs("select",{className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none appearance-none text-sm",value:t.language,onChange:N=>s({...t,language:N.target.value}),children:[e.jsx("option",{value:"en",children:"English (International)"}),e.jsx("option",{value:"ml",children:"Malayalam (Regional)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:f.director}),e.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none transition-all placeholder-zinc-700",placeholder:"Creator Name",value:t.director,onChange:N=>s({...t,director:N.target.value})})]})]}),e.jsxs("div",{className:"space-y-6 flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-zinc-800 pb-2",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center text-xs font-bold text-white",children:"2"}),e.jsx("h3",{className:"font-bold text-white uppercase tracking-wider text-sm",children:"Story Content"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:f.logline}),e.jsx("textarea",{className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder-zinc-700 h-24 resize-none",placeholder:"A one-sentence summary of your story...",value:t.logline,onChange:N=>s({...t,logline:N.target.value})})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"block text-xs font-bold text-zinc-500 uppercase",children:[f.fullScript," (Optional)"]}),e.jsxs("button",{onClick:()=>{var N;return(N=h.current)==null?void 0:N.click()},className:"text-[10px] text-amber-500 hover:text-amber-400 flex items-center gap-1 bg-zinc-900 px-2 py-1 rounded border border-zinc-800",children:[e.jsx(i.Upload,{size:12})," ",f.uploadScript," (.txt)"]})]}),e.jsxs("div",{className:"bg-red-900/10 border border-red-900/40 rounded-lg p-3 mb-3 flex gap-3",children:[e.jsx("div",{className:"p-2 bg-red-900/20 rounded-full h-fit shrink-0",children:e.jsx(i.ShieldCheck,{size:16,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-red-400 text-xs font-bold uppercase tracking-wider mb-1",children:"100% Safe & Private"}),e.jsxs("p",{className:"text-[10px] text-zinc-400 leading-relaxed",children:["Your script is processed ",e.jsx("strong",{children:"locally in your browser session"})," for AI analysis only. We do not store, copy, or share your story. Your intellectual property remains strictly yours."]})]})]}),e.jsx("input",{type:"file",ref:h,className:"hidden",accept:".txt,.md",onChange:_}),e.jsx("textarea",{className:"w-full flex-1 bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-zinc-300 focus:ring-1 focus:ring-blue-500 outline-none resize-none text-xs font-mono min-h-[200px]",placeholder:"Paste your full script, treatment, or notes here. This context helps the AI generate accurate slides, characters, and scenes.",value:t.fullScript,onChange:N=>s({...t,fullScript:N.target.value})})]}),e.jsxs("div",{className:"pt-4 border-t border-zinc-800",children:[e.jsx(I,{className:"w-full py-4 text-lg font-bold bg-amber-600 hover:bg-amber-500 text-white shadow-lg shadow-amber-900/20",onClick:ie,disabled:!t.title||!t.genre,icon:e.jsx(i.Rocket,{size:20}),children:"Launch Studio Workspace"}),e.jsx("p",{className:"text-[10px] text-zinc-600 text-center mt-3",children:"By launching, you accept that AI content is generated based on your inputs."})]})]})]})})]})]})},va=({slide:t,index:s,isActive:c,onClick:o,onDragStart:n,onDragOver:x,onDrop:d})=>{const[h,b]=r.useState(!1);return e.jsxs("div",{draggable:!0,onDragStart:f=>n(f,s),onDragOver:f=>x(f,s),onDrop:f=>d(f,s),onClick:o,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),className:`
        group relative flex items-center p-3 rounded-lg cursor-pointer transition-all border
        ${c?"bg-amber-900/20 border-amber-600/50":"bg-zinc-900 border-zinc-800 hover:bg-zinc-800 hover:border-zinc-700"}
      `,children:[e.jsx("div",{className:"mr-3 text-zinc-500 font-mono text-xs select-none cursor-move",children:e.jsx(i.Grid,{size:14,className:"opacity-50 group-hover:opacity-100"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`text-sm truncate font-medium ${c?"text-zinc-100":"text-zinc-400"}`,children:t.title}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:t.imageUrl?e.jsx("span",{className:"text-[10px] bg-green-900/30 text-green-400 px-1.5 py-0.5 rounded border border-green-900/50",children:"Img Ready"}):e.jsx("span",{className:"text-[10px] bg-zinc-800 text-zinc-500 px-1.5 py-0.5 rounded border border-zinc-700",children:"No Img"})})]}),h&&t.imageUrl&&e.jsxs("div",{className:"fixed left-72 z-50 w-[480px] aspect-video bg-zinc-950 rounded-lg border border-zinc-700 shadow-2xl overflow-hidden pointer-events-none transform transition-all duration-200",children:[e.jsx("img",{src:t.imageUrl,alt:"preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end p-4",children:e.jsx("h5",{className:"text-white font-bold text-lg drop-shadow-md",children:t.title})})]})]})},ja=({project:t,slides:s,activeSlideId:c,setActiveSlideId:o,onUpdateSlide:n,onAddSlide:x,onPresentationMode:d,onStructureMode:h,onGoHome:b,onDragStart:f,onDragOver:w,onDrop:m,onGenerateContent:a,isGeneratingContent:j,onAutoPrompt:S,isGeneratingPrompt:T,onGenerateImage:_,isGeneratingImage:U,onFileUpload:ie,showcaseScenes:R,onGenerateNextScene:ee,isGeneratingScene:re,onUpdateScene:N,onAddCharacter:A,onUpdateCharacter:Y,onAddPoster:K,onUpdatePoster:te,onAddAudio:ce,onAddVideo:de,onDeleteVideo:ze,initialTab:Ne="DECK",onTabChange:he,onSave:we,onExport:xe,onOpenProfile:ye,onOpenAdmin:J,onLogout:me,onOpenFAQ:Se,currentUser:V,onUpdateProject:ue})=>{var St,zt,Ct,At,kt,It,Tt;const H=et[t.language],ne=s.find(l=>l.id===c),[B,Re]=r.useState(""),[D,be]=r.useState(Ne),[fe,le]=r.useState(null),[Ge,$e]=r.useState(!1),[se,ke]=r.useState(null),[Ie,Be]=r.useState(""),[Te,He]=r.useState(!1),[ve,Le]=r.useState(null),[je,pe]=r.useState(!1),[g,v]=r.useState(""),[y,L]=r.useState(ca[0].id),[z,W]=r.useState(!1),[q,Ve]=r.useState(""),[We,tt]=r.useState(""),[st,Ee]=r.useState(null),[_e,at]=r.useState(t.storyConcept||""),[it,rt]=r.useState(null),[nt,lt]=r.useState([]),[ot,ct]=r.useState(!1),[dt,xt]=r.useState(!1),[mt,ht]=r.useState(""),[ut,pt]=r.useState("India"),[gt,bt]=r.useState([]),[ft,qe]=r.useState(!1),[vt,jt]=r.useState("ALL"),[u,p]=r.useState(null),[C,k]=r.useState(!1),[E,Q]=r.useState(t.budgetScale||"Mid-Range"),[Pe,Je]=r.useState(t.budgetCurrency||"INR"),[De,O]=r.useState(!1);r.useEffect(()=>{be(Ne)},[Ne]);const X=l=>{be(l),he&&he(l)},Oe=l=>{Re(l.target.value)},as=l=>{var ae;const M=(ae=l.target.files)==null?void 0:ae[0];if(M&&se){const Me=new FileReader;Me.onloadend=()=>{N(se,{imageUrl:Me.result})},Me.readAsDataURL(M)}},Nt=async(l,M,ae,Me)=>{var Et,Pt;pe(!0);try{if(M==="CHARACTER"){const Ce=(Et=t.characters)==null?void 0:Et.find(oe=>oe.id===ae);if(Ce){const oe=await ua(Ce,l);oe&&Y(ae,{imageUrl:oe})}}else{const Ce=(Pt=t.posters)==null?void 0:Pt.find(oe=>oe.id===ae);if(Ce){const oe=await ha(Ce,t);oe&&te(ae,{imageUrl:oe})}else{const oe=await ts(l,Me||"2:3");oe&&te(ae,{imageUrl:oe})}}}catch(Ce){console.error(Ce)}finally{pe(!1)}},is=async()=>{if(!se)return;const l=R.find(M=>M.id===se);if(l){pe(!0);try{const M=await es(t,"Scene Visuals",l.visualPrompt||l.action,l.imageStyle);N(l.id,{visualPrompt:M})}catch(M){console.error(M)}finally{pe(!1)}}},wt=async()=>{if(!se)return;const l=R.find(M=>M.id===se);if(l){pe(!0);try{const M=await pa(t,l);if(M){const ae=[M,...l.generatedVariants||[]].slice(0,10);N(l.id,{imageUrl:M,generatedVariants:ae})}else alert("Image generation failed. Please check your API Key quota or model availability (Gemini 2.5 Flash Image).")}catch(M){console.error("Gen Error:",M),alert(`Generation Failed: ${M.message||"Unknown error"}. Ensure your API Key is valid.`)}finally{pe(!1)}}},rs=()=>{const l={id:`char-${Date.now()}`,name:"New Character",role:"Character",roleType:"Supporting",description:"",gender:"",age:"",skinTone:"",hairStyle:"",clothing:"",accessories:"",nationality:"",era:"",faceShape:"",skinTexture:"",bodyType:"",expression:"",eyeGaze:"",aspectRatio:"1:1",visualPrompt:"",imageUrl:null,referenceImageUrl:null,actionReferenceImageUrl:null};A(l),le(l.id)},ns=()=>{const l={id:`poster-${Date.now()}`,title:t.title||"Movie Title",tagline:"The tagline goes here.",style:"Cinematic",aspectRatio:"2:3",prompt:"",imageUrl:null};K(l),le(l.id)},P=(St=t.characters)==null?void 0:St.find(l=>l.id===fe),ge=(zt=t.posters)==null?void 0:zt.find(l=>l.id===fe),F=R.find(l=>l.id===se),yt=()=>{if(!P)return"";const l=[P.gender,P.age?`${P.age} years old`:"",P.nationality,P.roleType,P.bodyType?`Body: ${P.bodyType}`:"",P.faceShape?`Face: ${P.faceShape} shape`:"",P.skinTone?`${P.skinTone} skin`:"",P.skinTexture?`Texture: ${P.skinTexture}`:"",P.hairStyle?`Hair: ${P.hairStyle}`:"",P.expression?`Expression: ${P.expression}`:"",P.eyeGaze?`Eyes: ${P.eyeGaze}`:"",P.clothing?`wearing ${P.clothing}`:"",P.era?`set in ${P.era}`:"",P.description].filter(Boolean).join(", ");return`Cinematic portrait of ${P.name}, ${l}, highly detailed, photorealistic, cinematic lighting, 8k resolution, ${t.genre} style`},ls=()=>{if(!P)return;const l=yt();Y(P.id,{visualPrompt:l})},os=()=>{if(!P)return;const l=P.visualPrompt||yt();Nt(l,"CHARACTER",P.id)},cs=[{id:"DECK",icon:i.Layout,label:H.slideDeck},{id:"SCRIPT",icon:i.ScrollText,label:H.scriptMagic},{id:"CAST_CREW",icon:i.UserPlus,label:H.castCrew},{id:"STORYBOARD",icon:i.Clapperboard,label:H.storyBoard},{id:"BUDGET",icon:i.Calculator,label:H.budgetForge},{id:"VAULT",icon:i.Box,label:H.cinemaVault},{id:"CHARACTERS",icon:i.Users,label:H.characters},{id:"LOCATION",icon:i.MapPin,label:H.locationScout},{id:"POSTERS",icon:i.Image,label:H.posters},{id:"AUDIO",icon:i.Mic,label:H.soundStage},{id:"TRAILER",icon:i.Video,label:H.mediaLibrary}],ds=["DECK","CHARACTERS","STORYBOARD","POSTERS","AUDIO"].includes(D);return e.jsxs("div",{className:"h-screen flex flex-col bg-zinc-950 overflow-hidden",children:[ve&&e.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-xl flex items-center justify-center animate-in fade-in duration-200",children:[e.jsx("button",{onClick:()=>Le(null),className:"absolute top-6 right-8 p-3 bg-zinc-800/80 hover:bg-red-600/80 text-white rounded-full transition-colors z-[110]",children:e.jsx(i.X,{size:24})}),e.jsxs("div",{className:"w-full max-w-6xl p-4 flex flex-col items-center",children:[e.jsx("div",{className:"w-full aspect-video bg-black rounded-lg shadow-2xl overflow-hidden border border-zinc-800",children:e.jsx("video",{src:ve.url,controls:!0,autoPlay:!0,className:"w-full h-full object-contain"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mt-6",children:ve.title}),e.jsxs("div",{className:"flex gap-4 mt-2 text-zinc-500 text-sm",children:[e.jsx("span",{className:"uppercase tracking-wider",children:ve.source==="AI"?"Generated with Veo":"Uploaded File"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(ve.createdAt).toLocaleDateString()})]})]})]}),e.jsxs("header",{className:"h-14 border-b border-zinc-800 bg-zinc-900 flex items-center justify-between px-4 shrink-0 z-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:b,className:"flex items-center gap-2 text-white hover:text-amber-500 transition-colors group mr-2",title:"Back to Home / Categories",children:e.jsx(i.Clapperboard,{size:20,className:"text-amber-500 group-hover:rotate-12 transition-transform"})}),e.jsx("div",{className:"h-6 w-px bg-zinc-800"}),e.jsx("button",{onClick:h,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400",title:"Back to Structure",children:e.jsx(i.ChevronLeft,{size:20})}),e.jsxs("h1",{className:"font-bold text-lg text-zinc-200 truncate max-w-xs",children:[t.title," ",e.jsx("span",{className:"text-zinc-600 text-xs ml-2 uppercase border border-zinc-700 rounded px-1",children:t.serviceType.replace("_"," ")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex bg-zinc-800 border border-zinc-700 rounded-full p-0.5 mr-2",children:[e.jsx("button",{onClick:()=>ue&&ue({language:"en"}),className:`px-2 py-0.5 rounded-full text-[10px] font-bold transition-colors ${t.language==="en"?"bg-amber-600 text-white":"text-zinc-500 hover:text-white"}`,children:"EN"}),e.jsx("button",{onClick:()=>ue&&ue({language:"ml"}),className:`px-2 py-0.5 rounded-full text-[10px] font-bold transition-colors ${t.language==="ml"?"bg-amber-600 text-white":"text-zinc-500 hover:text-white"}`,children:"ML"})]}),D==="STORYBOARD"&&e.jsxs(e.Fragment,{children:[e.jsx(I,{variant:"secondary",icon:e.jsx(i.Play,{size:16}),onClick:()=>d("STORYBOARD"),children:"Present Storyboard"}),e.jsx(I,{variant:"accent",className:"bg-amber-600 hover:bg-amber-500 text-white border-none",onClick:xe,icon:e.jsx(i.Upload,{size:16}),children:"EXPORT"})]}),D==="DECK"&&e.jsx(I,{variant:"secondary",icon:e.jsx(i.Play,{size:16}),onClick:()=>d("DECK"),children:H.presentDeck}),e.jsx(I,{variant:"ghost",icon:e.jsx(i.Save,{size:16}),onClick:we,children:H.save}),e.jsx("div",{className:"h-6 w-px bg-zinc-800 mx-2"}),e.jsx("button",{onClick:Se,className:"text-zinc-500 hover:text-white transition-colors",title:"Help & FAQ",children:e.jsx(i.HelpCircle,{size:20})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>O(!De),className:"w-8 h-8 rounded-full bg-gradient-to-br from-amber-500 to-red-600 flex items-center justify-center text-white font-bold text-xs shadow-lg hover:ring-2 hover:ring-amber-500 transition-all",children:((Ct=V==null?void 0:V.name)==null?void 0:Ct.charAt(0))||"U"}),De&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-zinc-900 border border-zinc-800 rounded-lg shadow-xl py-1 z-50 animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-zinc-800 mb-1",children:[e.jsx("p",{className:"text-white font-bold text-sm truncate",children:(V==null?void 0:V.name)||"Guest"}),e.jsx("p",{className:"text-zinc-500 text-[10px] truncate",children:(V==null?void 0:V.email)||""}),(V==null?void 0:V.role)==="ADMIN"&&e.jsx("span",{className:"inline-block mt-1 text-[9px] bg-red-600 text-white px-1.5 py-0.5 rounded font-bold",children:"SYSTEM ADMIN"})]}),e.jsxs("button",{onClick:()=>{ye==null||ye(),O(!1)},className:"w-full text-left px-4 py-2 text-zinc-400 hover:text-white hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(i.User,{size:14})," ",H.myProfile]}),e.jsxs("button",{onClick:()=>{J==null||J(),O(!1)},className:"w-full text-left px-4 py-2 text-zinc-400 hover:text-white hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(i.Settings,{size:14}),(V==null?void 0:V.role)==="ADMIN"?"System Admin":"Project Settings"]}),e.jsxs("button",{onClick:me,className:"w-full text-left px-4 py-2 text-red-400 hover:text-red-300 hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(i.LogOut,{size:14})," ",H.logout]})]})]})]})]}),e.jsx("div",{className:"h-14 border-b border-zinc-800 bg-black flex items-center px-4 gap-2 overflow-x-auto no-scrollbar shrink-0",children:cs.map(l=>e.jsxs("button",{onClick:()=>X(l.id),className:`
                flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wider whitespace-nowrap transition-all
                ${D===l.id?"bg-amber-600 text-white shadow-lg shadow-amber-900/40":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-900"}
              `,children:[e.jsx(l.icon,{size:14}),l.label]},l.id))}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[ds&&e.jsx("aside",{className:"w-80 border-r border-zinc-800 bg-zinc-900/50 flex flex-col shrink-0",children:e.jsxs("div",{className:"flex-1 overflow-y-auto p-2 bg-zinc-900/30 relative",children:[D==="DECK"&&e.jsxs("div",{className:"space-y-2 pb-16",children:[s.map((l,M)=>e.jsx(va,{slide:l,index:M,isActive:c===l.id,onClick:()=>o(l.id),onDragStart:f,onDragOver:w,onDrop:m},l.id)),e.jsx("div",{className:"pt-2",children:e.jsxs(I,{variant:"secondary",onClick:x,className:"w-full text-sm py-2 border-dashed border-2",children:[e.jsx(i.Plus,{size:14,className:"mr-2"})," ",H.addSlide]})})]}),D==="CHARACTERS"&&e.jsxs("div",{className:"space-y-2 p-2",children:[(At=t.characters)==null?void 0:At.map(l=>e.jsxs("div",{onClick:()=>le(l.id),className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border ${fe===l.id?"bg-zinc-800 border-amber-600":"bg-zinc-950 border-zinc-800 hover:border-zinc-700"}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 overflow-hidden flex-shrink-0",children:l.imageUrl?e.jsx("img",{src:l.imageUrl,className:"w-full h-full object-cover"}):e.jsx(i.User,{className:"m-2 text-zinc-600"})}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"text-sm font-bold text-zinc-200 truncate",children:l.name}),e.jsx("p",{className:"text-xs text-zinc-500 truncate",children:l.roleType})]})]},l.id)),e.jsxs(I,{variant:"secondary",onClick:rs,className:"w-full mt-4",children:[e.jsx(i.Plus,{size:14,className:"mr-2"})," Add Character"]})]}),D==="STORYBOARD"&&e.jsxs("div",{className:"space-y-2 pb-16",children:[R.map((l,M)=>{var ae;return e.jsxs("div",{onClick:()=>ke(l.id),className:`p-2 rounded border cursor-pointer flex gap-2 ${se===l.id?"bg-amber-900/20 border-amber-600":"bg-zinc-900 border-zinc-800"}`,children:[e.jsx("div",{className:"w-16 h-10 bg-black rounded overflow-hidden shrink-0",children:l.imageUrl&&e.jsx("img",{src:l.imageUrl,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"text-xs font-bold text-white truncate",children:["SCENE ",M+1]}),e.jsx("p",{className:"text--[10px] text-zinc-500 truncate",children:l.heading}),e.jsxs("div",{className:"flex gap-1 mt-1",children:[e.jsx("span",{className:"text-[8px] bg-zinc-800 px-1 rounded text-zinc-400",children:(ae=l.shotSize)==null?void 0:ae.split(" ")[0]}),e.jsx("span",{className:"text-[8px] bg-zinc-800 px-1 rounded text-zinc-400",children:l.lensType})]})]})]},l.id)}),e.jsx("div",{className:"pt-2",children:e.jsxs(I,{variant:"secondary",onClick:ee,className:"w-full text-xs py-2 border-dashed border-2",children:[e.jsx(i.Plus,{size:12,className:"mr-2"})," Add Next Scene"]})})]}),D==="POSTERS"&&e.jsxs("div",{className:"space-y-2 p-2",children:[(kt=t.posters)==null?void 0:kt.map(l=>e.jsxs("div",{onClick:()=>le(l.id),className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border ${fe===l.id?"bg-zinc-800 border-green-600":"bg-zinc-950 border-zinc-800 hover:border-zinc-700"}`,children:[e.jsx("div",{className:"w-8 h-12 bg-zinc-800 overflow-hidden flex-shrink-0 rounded-sm",children:l.imageUrl?e.jsx("img",{src:l.imageUrl,className:"w-full h-full object-cover"}):e.jsx(i.Image,{className:"m-2 text-zinc-600"})}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"text-sm font-bold text-zinc-200 truncate",children:l.title}),e.jsx("p",{className:"text-xs text-zinc-500 truncate",children:l.aspectRatio})]})]},l.id)),e.jsxs(I,{variant:"secondary",onClick:ns,className:"w-full mt-4",children:[e.jsx(i.Plus,{size:14,className:"mr-2"})," New Poster"]})]})]})}),e.jsxs("main",{className:"flex-1 flex overflow-hidden bg-zinc-950 relative",children:[D==="BUDGET"&&e.jsx("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-y-auto",children:e.jsx("div",{className:"p-8 text-white",children:"Budget Forge Active (Code Preserved)"})}),D==="CAST_CREW"&&e.jsx("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-y-auto",children:e.jsx("div",{className:"p-8 text-white",children:"Cast Crew Active (Code Preserved)"})}),D==="VAULT"&&e.jsx("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-y-auto",children:e.jsx("div",{className:"p-8 text-white",children:"Vault Active (Code Preserved)"})}),D==="TRAILER"&&e.jsx("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-y-auto",children:e.jsx("div",{className:"p-8 text-white",children:"Trailer Active (Code Preserved)"})}),D==="SCRIPT"&&e.jsx("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-y-auto",children:e.jsx("div",{className:"p-8 text-white",children:"Script Magic Active (Code Preserved)"})}),D==="LOCATION"&&e.jsx("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-y-auto",children:e.jsx("div",{className:"p-8 text-white",children:"Location Scout Active (Code Preserved)"})}),D==="AUDIO"&&e.jsx("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-y-auto",children:e.jsx("div",{className:"p-8 text-white",children:"Audio Active (Code Preserved)"})}),D==="DECK"&&ne&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 p-8 flex flex-col items-center justify-center relative overflow-hidden bg-zinc-900/30",children:e.jsx("div",{className:"w-full aspect-video bg-black shadow-2xl relative group rounded-md overflow-hidden ring-1 ring-zinc-800",children:e.jsx("img",{src:ne.imageUrl||Xe,className:`absolute inset-0 w-full h-full object-cover ${ne.imageUrl?"opacity-100":"opacity-30 grayscale"}`})})}),e.jsx("div",{className:"w-96 border-l border-zinc-800 bg-zinc-900 flex flex-col overflow-y-auto p-6 space-y-6",children:e.jsxs("section",{children:[e.jsx("div",{className:"flex justify-between mb-2",children:e.jsx("h3",{className:"text-xs font-bold text-amber-500",children:"VISUALS"})}),e.jsxs("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-xs text-zinc-300 mb-2",onChange:Oe,value:B,children:[e.jsx("option",{value:"",children:"Director Style..."}),ra.map(l=>e.jsx("option",{value:l,children:l},l))]}),e.jsxs("div",{className:"relative mb-2",children:[e.jsx("textarea",{className:"w-full h-24 bg-zinc-950 border border-zinc-800 rounded p-3 text-sm text-zinc-300 outline-none focus:ring-1 focus:ring-amber-900",placeholder:"Image Prompt...",value:ne.imagePrompt,onChange:l=>n(ne.id,{imagePrompt:l.target.value})}),e.jsx("button",{className:"absolute bottom-2 right-2 text-amber-500 hover:text-amber-400",onClick:()=>S(B),disabled:T,children:e.jsx(i.Wand2,{size:14})})]}),e.jsx(I,{className:"w-full",variant:"accent",onClick:_,disabled:!ne.imagePrompt,isLoading:U,children:"Generate Image"})]})})]}),D==="CHARACTERS"&&P&&e.jsx("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-hidden relative",children:e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"mb-8 p-4 bg-zinc-950 border border-zinc-800 rounded-xl relative",children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsx("label",{className:"text-xs font-bold text-amber-500 uppercase tracking-wider",children:"Visual Prompt Generator"}),e.jsxs("button",{onClick:ls,className:"text-xs text-zinc-400 hover:text-white flex items-center gap-1 transition-colors",children:[e.jsx(i.Wand2,{size:12})," Auto-fill from Options"]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("textarea",{className:"flex-1 h-24 bg-zinc-900 border border-zinc-800 rounded-lg p-3 text-sm text-zinc-200 outline-none focus:border-amber-600 resize-none font-mono",value:P.visualPrompt,onChange:l=>Y(P.id,{visualPrompt:l.target.value})}),e.jsx("div",{className:"flex flex-col gap-2 w-48 justify-end",children:e.jsxs(I,{variant:"accent",className:"h-full w-full flex flex-col items-center justify-center gap-2",onClick:os,isLoading:je,children:[e.jsx(i.Wand2,{size:24}),e.jsx("span",{children:"Generate Image"})]})})]})]})})}),D==="POSTERS"&&ge&&e.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center justify-center bg-zinc-950 relative",children:[e.jsx("div",{className:`transition-all duration-300 bg-zinc-900 shadow-2xl border border-zinc-800 relative overflow-hidden group ${ge.aspectRatio==="2:3"?"h-[75vh] aspect-[2/3]":ge.aspectRatio==="16:9"?"w-[80%] aspect-video":"h-[65vh] aspect-square"}`,children:ge.imageUrl?e.jsx("img",{src:ge.imageUrl,className:"w-full h-full object-contain"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(i.Image,{size:64,className:"opacity-20"})})}),e.jsx("div",{className:"w-80 border-l border-zinc-800 bg-zinc-900 p-6 space-y-6 overflow-y-auto absolute right-0 top-0 bottom-0",children:e.jsxs(I,{className:"w-full py-4 text-sm font-bold",variant:"accent",onClick:()=>{const l=`Movie Poster Art. Title: "${ge.title}". ${ge.prompt}. Composition: ${q}. Colors: ${We}. High resolution, cinematic key art, textless --ar ${ge.aspectRatio.replace(":","-")}`;Nt(l,"POSTER",ge.id,ge.aspectRatio)},isLoading:je,children:[e.jsx(i.Wand2,{size:16,className:"mr-2"})," Generate Poster"]})})]}),D==="STORYBOARD"&&F&&e.jsxs("div",{className:"flex-1 flex h-full bg-zinc-950 overflow-hidden flex-row",children:[e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-black/20",children:[e.jsxs("div",{className:"p-4 bg-zinc-900 border-b border-zinc-800 flex gap-4 items-start shrink-0",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("textarea",{className:"w-full h-24 bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-sm text-zinc-300 outline-none focus:border-amber-600 resize-none font-mono",placeholder:"Describe your scene or shot concept here...",value:F.visualPrompt||F.action,onChange:l=>N(F.id,{visualPrompt:l.target.value})}),e.jsx("span",{className:"absolute bottom-2 right-2 text-[10px] text-zinc-600 uppercase font-bold",children:"AI Prompt Input"})]}),e.jsxs(I,{variant:"accent",className:"h-24 w-32 flex flex-col items-center justify-center gap-1",onClick:is,isLoading:je,children:[e.jsx(i.Wand2,{size:20}),e.jsxs("span",{className:"text-[10px] uppercase font-bold text-center",children:["Generate",e.jsx("br",{}),"Prompt"]})]})]}),e.jsxs("div",{className:"flex-1 bg-black flex flex-col relative overflow-hidden",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:e.jsxs("div",{className:"aspect-video w-full max-w-4xl bg-zinc-900 border border-zinc-800 shadow-2xl relative overflow-hidden group",children:[F.imageUrl?e.jsx("img",{src:F.imageUrl,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[e.jsx(i.Clapperboard,{size:64,className:"text-zinc-800 mb-4"}),e.jsx("p",{className:"text-zinc-600 text-sm font-mono",children:"NO SIGNAL"})]}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-30",children:[e.jsx("div",{className:"w-full h-full border-[20px] border-transparent",style:{boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.2)"}}),e.jsx("div",{className:"absolute top-1/3 w-full h-px bg-white/10"}),e.jsx("div",{className:"absolute top-2/3 w-full h-px bg-white/10"}),e.jsx("div",{className:"absolute left-1/3 h-full w-px bg-white/10"}),e.jsx("div",{className:"absolute left-2/3 h-full w-px bg-white/10"})]}),e.jsxs("div",{className:"absolute bottom-4 left-4 text-[10px] font-mono text-amber-500 bg-black/80 px-2 py-1 rounded",children:[F.lensType," | ",F.cameraAngle," | ",F.shotSize]})]})}),e.jsx("div",{className:"h-16 flex items-center justify-between px-8 bg-gradient-to-t from-zinc-900 to-transparent absolute bottom-24 left-0 right-0 z-10",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"accent",onClick:wt,isLoading:je,children:"Render Shot"}),e.jsx(I,{variant:"secondary",onClick:wt,isLoading:je,disabled:!F.imageUrl,children:"Render Again"}),e.jsxs("label",{className:"inline-flex items-center justify-center px-4 py-2 rounded-md font-medium bg-zinc-800 text-zinc-100 hover:bg-zinc-700 focus:ring-zinc-600 border border-zinc-700 cursor-pointer",children:[e.jsx(i.Upload,{size:16,className:"mr-2"})," Upload Frame",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:as})]})]})}),e.jsxs("div",{className:"h-24 bg-zinc-900 border-t border-zinc-800 flex items-center px-4 gap-2 overflow-x-auto z-20 shrink-0",children:[(It=F.generatedVariants)==null?void 0:It.map((l,M)=>e.jsx("div",{onClick:()=>N(F.id,{imageUrl:l}),className:`h-16 aspect-video rounded cursor-pointer border-2 overflow-hidden transition-all ${F.imageUrl===l?"border-amber-500 scale-105":"border-zinc-700 opacity-50 hover:opacity-100"}`,children:e.jsx("img",{src:l,className:"w-full h-full object-cover"})},M)),!((Tt=F.generatedVariants)!=null&&Tt.length)&&e.jsx("div",{className:"text-xs text-zinc-600 italic px-4",children:"Generated versions will appear here..."})]})]})]}),e.jsxs("div",{className:"w-80 border-l border-zinc-800 bg-zinc-900 p-6 overflow-y-auto shrink-0 z-30 shadow-xl",children:[e.jsxs("h3",{className:"text-xs font-bold text-white mb-4 uppercase flex items-center gap-2",children:[e.jsx(i.Activity,{size:14,className:"text-amber-500"})," Action Logic"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-1 block",children:"Scene Heading"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs font-mono font-bold",value:F.heading,onChange:l=>N(F.id,{heading:l.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-1 block",children:"Action Description"}),e.jsx("textarea",{className:"w-full h-20 bg-zinc-950 border border-zinc-800 rounded p-2 text-zinc-300 text-sm resize-none",value:F.action,onChange:l=>N(F.id,{action:l.target.value})})]}),e.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[e.jsxs("h4",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-3 flex items-center gap-1",children:[e.jsx(i.Camera,{size:12})," Camera Logic"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-600 block mb-1",children:"Lens"}),e.jsx("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:F.lensType||"35mm",onChange:l=>N(F.id,{lensType:l.target.value}),children:oa.map(l=>e.jsx("option",{value:l.id,children:l.label},l.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-600 block mb-1",children:"Angle"}),e.jsx("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:F.cameraAngle||"Eye Level",onChange:l=>N(F.id,{cameraAngle:l.target.value}),children:la.map(l=>e.jsx("option",{value:l.id,children:l.label},l.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-600 block mb-1",children:"Shot Size"}),e.jsx("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:F.shotSize||"Wide",onChange:l=>N(F.id,{shotSize:l.target.value}),children:na.map(l=>e.jsx("option",{value:l.id,children:l.label},l.id))})]})]})]})]})]})]})]})]})]})},Na=({project:t,slides:s,activeSlideId:c,setActiveSlideId:o,onClose:n})=>{const x=s.find(m=>m.id===c)||s[0],d=s.findIndex(m=>m.id===x.id),[h,b]=r.useState(!1),f=()=>{d<s.length-1?o(s[d+1].id):b(!1)},w=()=>{d>0&&o(s[d-1].id)};return r.useEffect(()=>{let m;return h&&(m=setInterval(()=>{f()},5e3)),()=>clearInterval(m)},[h,d,s.length]),r.useEffect(()=>{const m=a=>{a.key==="ArrowRight"&&f(),a.key==="ArrowLeft"&&w(),a.key==="Escape"&&n(),a.key===" "&&(a.preventDefault(),b(!h))};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[x,d,s,n,h]),e.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 z-0 bg-black",children:e.jsx("img",{src:x.imageUrl||Xe,className:"w-full h-full object-cover transition-all duration-1000 opacity-100",alt:"bg"})}),e.jsx("div",{className:"relative z-10 w-full max-w-7xl px-12 grid grid-cols-12 gap-12 items-end pb-32 h-full pointer-events-none",children:e.jsxs("div",{className:"col-span-8 mb-10",children:[e.jsxs("h4",{className:"text-amber-500 text-lg tracking-[0.2em] font-bold mb-4 uppercase animate-fade-in drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",children:[t.title," | ",t.genre]}),e.jsx("h1",{className:"text-7xl font-bold text-white mb-8 cinematic-font leading-tight animate-slide-up drop-shadow-[0_4px_6px_rgba(0,0,0,0.9)]",children:x.title}),e.jsx("div",{className:"w-24 h-1 bg-amber-500 mb-8 shadow-lg shadow-black"}),e.jsx("p",{className:"text-2xl text-white leading-relaxed font-light max-w-4xl whitespace-pre-wrap animate-fade-in delay-150 drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)]",children:x.content})]})}),e.jsx("div",{className:"absolute top-6 right-6 z-20",children:e.jsx("button",{onClick:n,className:"p-3 bg-black/50 text-white hover:bg-red-600/80 rounded-full backdrop-blur transition-colors",title:"Exit Presentation (Esc)",children:e.jsx(i.Minimize2,{size:20})})}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex flex-col items-center gap-4 w-full max-w-2xl",children:[e.jsx("div",{className:"w-full h-1 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-amber-600 transition-all duration-500",style:{width:`${(d+1)/s.length*100}%`}})}),e.jsxs("div",{className:"flex items-center gap-6 bg-black/60 backdrop-blur-md px-8 py-3 rounded-full border border-zinc-800/50 shadow-2xl",children:[e.jsx("button",{onClick:w,disabled:d===0,className:"p-2 text-zinc-400 hover:text-white disabled:opacity-30 transition-colors",title:"Previous Slide (Left Arrow)",children:e.jsx(i.ChevronLeft,{size:28})}),e.jsx("button",{onClick:()=>b(!h),className:`p-4 rounded-full transition-all ${h?"bg-amber-600 text-white hover:bg-amber-500":"bg-white text-black hover:bg-zinc-200"}`,title:h?"Pause (Space)":"Play Slideshow (Space)",children:h?e.jsx("span",{className:"block w-4 h-4 border-l-4 border-r-4 border-current mx-auto"}):e.jsx(i.Play,{size:20,fill:"currentColor",className:"ml-1"})}),e.jsx("button",{onClick:f,disabled:d===s.length-1,className:"p-2 text-zinc-400 hover:text-white disabled:opacity-30 transition-colors",title:"Next Slide (Right Arrow)",children:e.jsx(i.ChevronRight,{size:28})})]}),e.jsxs("div",{className:"text-zinc-500 font-mono text-xs tracking-widest drop-shadow-md",children:["SLIDE ",d+1," / ",s.length]})]})]})},wa=({project:t,scenes:s,onClose:c})=>{const[o,n]=r.useState(0),[x,d]=r.useState(!1),[h,b]=r.useState(!0),f=s[o],w=()=>{o<s.length-1?n(a=>a+1):d(!1)},m=()=>{o>0&&n(a=>a-1)};return r.useEffect(()=>{let a;return x&&(a=setInterval(()=>{w()},3e3)),()=>clearInterval(a)},[x,o,s.length]),r.useEffect(()=>{const a=j=>{j.key==="ArrowRight"&&w(),j.key==="ArrowLeft"&&m(),j.key==="Escape"&&c(),j.key===" "&&(j.preventDefault(),d(!x)),j.key==="i"&&b(!h)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[o,s,c,x,h]),f?e.jsxs("div",{className:"fixed inset-0 bg-black z-[100] flex items-center justify-center cursor-none hover:cursor-default overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 z-0 flex items-center justify-center bg-zinc-950",children:e.jsx("img",{src:f.imageUrl||Xe,className:"max-w-full max-h-full object-contain",alt:`Scene ${o+1}`})}),e.jsxs("div",{className:"absolute inset-0 z-10 pointer-events-none p-8 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex justify-between items-start text-white/90 font-mono text-sm tracking-wider drop-shadow-md",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-500 animate-pulse text-xs",children:"● REC"}),e.jsx("span",{className:"bg-white/20 px-1 rounded text-xs",children:t.title.toUpperCase()})]}),e.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:["00:00:0",o,":12"]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-[10px] text-zinc-400",children:"ISO"}),e.jsx("span",{children:"800"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-[10px] text-zinc-400",children:"SHUTTER"}),e.jsx("span",{children:"1/50"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-[10px] text-zinc-400",children:"IRIS"}),e.jsx("span",{children:"f/2.8"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-[10px] text-zinc-400",children:"WB"}),e.jsx("span",{children:"5600K"})]}),e.jsxs("div",{className:"flex items-center gap-1 border border-white/40 px-2 py-1 rounded",children:[e.jsx("span",{className:"text-[10px]",children:"BAT"}),e.jsx("div",{className:"w-6 h-3 border border-white flex items-center p-0.5",children:e.jsx("div",{className:"w-3/4 h-full bg-white"})})]})]})]}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none",children:[e.jsxs("div",{className:"w-8 h-8 relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-white"}),e.jsx("div",{className:"absolute left-1/2 top-0 h-full w-px bg-white"})]}),e.jsx("div",{className:"absolute w-[90%] h-[90%] border border-white/20"}),e.jsx("div",{className:"absolute top-8 left-8 w-8 h-8 border-t-2 border-l-2 border-white"}),e.jsx("div",{className:"absolute top-8 right-8 w-8 h-8 border-t-2 border-r-2 border-white"}),e.jsx("div",{className:"absolute bottom-8 left-8 w-8 h-8 border-b-2 border-l-2 border-white"}),e.jsx("div",{className:"absolute bottom-8 right-8 w-8 h-8 border-b-2 border-r-2 border-white"})]}),e.jsxs("div",{className:"flex items-end justify-between text-white drop-shadow-md",children:[e.jsxs("div",{className:"max-w-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"bg-amber-600 text-black px-1.5 py-0.5 text-xs font-bold rounded",children:["SCENE ",o+1]}),e.jsxs("span",{className:"font-mono text-xs text-zinc-300",children:[f.shotSize||"WIDE"," | ",f.lensType||"35mm"," | ",f.cameraAngle||"EYE"]})]}),h&&e.jsxs("div",{className:"bg-black/60 backdrop-blur-sm p-4 rounded-lg border-l-4 border-amber-500",children:[e.jsx("h2",{className:"text-xl font-bold font-serif mb-1 leading-none",children:f.heading}),e.jsx("p",{className:"text-sm text-zinc-300 leading-tight opacity-90",children:f.action})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1 font-mono text-xs text-zinc-400",children:[e.jsxs("span",{children:[o+1," / ",s.length]}),e.jsx("span",{children:"RAW 4K"})]})]})]}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-50 flex gap-4 pointer-events-auto opacity-0 hover:opacity-100 transition-opacity duration-300",children:[e.jsx("button",{onClick:m,className:"p-3 bg-zinc-800/80 hover:bg-white hover:text-black rounded-full text-white transition-all",children:e.jsx(i.ChevronLeft,{size:20})}),e.jsx("button",{onClick:()=>d(!x),className:"p-4 bg-amber-600 hover:bg-amber-500 rounded-full text-white shadow-lg transition-all",children:x?e.jsx("div",{className:"w-4 h-4 bg-white rounded-sm"}):e.jsx(i.Play,{size:20,fill:"currentColor"})}),e.jsx("button",{onClick:w,className:"p-3 bg-zinc-800/80 hover:bg-white hover:text-black rounded-full text-white transition-all",children:e.jsx(i.ChevronRight,{size:20})})]}),e.jsx("button",{onClick:c,className:"absolute top-6 right-6 z-50 p-2 bg-black/50 hover:bg-red-600 text-white rounded-full pointer-events-auto transition-colors",children:e.jsx(i.X,{size:20})})]}):null},ya=({onBack:t,user:s,onUpdateUser:c})=>{const[o,n]=r.useState((s==null?void 0:s.credits)||0),[x,d]=r.useState(null),[h,b]=r.useState(!1),[f,w]=r.useState({name:(s==null?void 0:s.name)||"Guest",email:(s==null?void 0:s.email)||"guest@studio.com",phone:(s==null?void 0:s.phone)||"+91 00000 00000"});r.useEffect(()=>{s&&(w({name:s.name,email:s.email,phone:s.phone||"+91 00000 00000"}),n(s.credits))},[s]);const[m,a]=r.useState(!1),[j,S]=r.useState(""),[T,_]=r.useState(""),[U,ie]=r.useState(""),R=[{name:"John Doe",project:"The Last Monsoon",status:"In Progress",date:"2 days ago"},{name:"Sarah Smith",project:"Cyber Kerala 2077",status:"Completed",date:"1 week ago"},{name:"Rajeev Menon",project:"Silent Waters",status:"Draft",date:"3 weeks ago"}],ee=A=>{var K;const Y=(K=A.target.files)==null?void 0:K[0];if(Y){const te=new FileReader;te.onloadend=()=>{d(te.result)},te.readAsDataURL(Y)}},re=()=>{c({name:f.name,email:f.email,phone:f.phone}),b(!1)},N=()=>{if(T!==U){alert("New passwords do not match!");return}if(T.length<6){alert("Password must be at least 6 characters.");return}const A=localStorage.getItem("cinepitch_user_password")||"123456";if(j!==A){alert("Incorrect current password.");return}localStorage.setItem("cinepitch_user_password",T),alert("Password updated successfully!"),a(!1),S(""),_(""),ie("")};return e.jsx("div",{className:"min-h-screen bg-zinc-950 p-8 overflow-y-auto",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("button",{onClick:t,className:"flex items-center text-zinc-500 hover:text-white mb-6 transition-colors",children:[e.jsx(i.ChevronLeft,{size:20,className:"mr-1"})," Back to Studio"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 flex flex-col items-center text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2",children:e.jsx("button",{onClick:()=>b(!h),className:"text-zinc-500 hover:text-white",children:e.jsx(i.Settings,{size:16})})}),e.jsxs("div",{className:"relative group cursor-pointer mb-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-amber-500 to-red-600 flex items-center justify-center text-3xl font-bold text-white shadow-xl overflow-hidden border-2 border-zinc-800",children:x?e.jsx("img",{src:x,className:"w-full h-full object-cover"}):f.name.charAt(0)}),e.jsxs("label",{className:"absolute inset-0 bg-black/60 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(i.Camera,{className:"text-white",size:24}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ee})]})]}),h?e.jsxs("div",{className:"w-full space-y-2",children:[e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-700 rounded p-1 text-center text-sm text-white",value:f.name,onChange:A=>w({...f,name:A.target.value})}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-700 rounded p-1 text-center text-xs text-zinc-400",value:f.email,onChange:A=>w({...f,email:A.target.value})}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-700 rounded p-1 text-center text-xs text-zinc-400",value:f.phone,onChange:A=>w({...f,phone:A.target.value})}),e.jsx(I,{variant:"accent",className:"w-full text-xs mt-2",onClick:re,children:"Save Changes"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:f.name}),e.jsx("p",{className:"text-zinc-400 text-sm",children:f.email}),e.jsx("p",{className:"text-zinc-500 text-xs mt-1",children:f.phone}),e.jsx("span",{className:`mt-3 px-3 py-1 ${(s==null?void 0:s.role)==="ADMIN"?"bg-red-500/10 text-red-500 border-red-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/20"} text-xs font-bold rounded-full border`,children:(s==null?void 0:s.role)==="ADMIN"?"ADMIN":"PRO MEMBER"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-900/40 to-zinc-900 border border-amber-600/30 rounded-xl p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:e.jsx(i.Zap,{size:100,className:"text-amber-500"})}),e.jsx("h3",{className:"text-zinc-400 text-xs uppercase font-bold tracking-wider mb-1",children:"Credits Balance"}),e.jsxs("div",{className:"flex items-baseline gap-1 mb-4",children:[e.jsx("span",{className:"text-4xl font-bold text-white",children:o.toLocaleString()}),e.jsx("span",{className:"text-amber-500 text-sm font-bold",children:"CR"})]}),e.jsx("div",{className:"w-full bg-zinc-800 rounded-full h-1.5 mb-4",children:e.jsx("div",{className:"bg-amber-500 h-1.5 rounded-full w-[75%]"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"accent",className:"flex-1 text-xs",onClick:()=>n(o+1e3),children:"Buy Credits"}),e.jsx("button",{className:"px-3 py-2 bg-zinc-800 hover:bg-zinc-700 rounded text-xs text-zinc-300 transition-colors",children:"History"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-zinc-400 text-xs uppercase font-bold tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(i.ShieldCheck,{size:14})," Security"]}),m?e.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase block mb-1",children:"Current Password"}),e.jsx("input",{type:"password",className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:j,onChange:A=>S(A.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase block mb-1",children:"New Password"}),e.jsx("input",{type:"password",className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:T,onChange:A=>_(A.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase block mb-1",children:"Confirm New Password"}),e.jsx("input",{type:"password",className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:U,onChange:A=>ie(A.target.value)})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(I,{variant:"accent",className:"flex-1 text-xs",onClick:N,children:"Update"}),e.jsx(I,{variant:"secondary",className:"text-xs",onClick:()=>a(!1),children:"Cancel"})]})]}):e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(I,{variant:"secondary",className:"w-full text-xs justify-start",onClick:()=>a(!0),children:[e.jsx(i.Settings,{size:14,className:"mr-2"})," Change Password"]}),e.jsxs(I,{variant:"secondary",className:"w-full text-xs justify-start text-red-400 hover:text-red-300",children:[e.jsx(i.LogOut,{size:14,className:"mr-2"})," Sign out of all devices"]})]})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-4 rounded-xl flex flex-col justify-between",children:[e.jsx(i.Briefcase,{className:"text-blue-500 mb-2",size:20}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"12"}),e.jsx("p",{className:"text-zinc-500 text-xs",children:"Active Projects"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-4 rounded-xl flex flex-col justify-between",children:[e.jsx(i.Image,{className:"text-purple-500 mb-2",size:20}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"842"}),e.jsx("p",{className:"text-zinc-500 text-xs",children:"Images Generated"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-4 rounded-xl flex flex-col justify-between",children:[e.jsx(i.Activity,{className:"text-green-500 mb-2",size:20}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"98%"}),e.jsx("p",{className:"text-zinc-500 text-xs",children:"Completion Rate"})]})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-white",children:"Recent Client Projects"}),e.jsx("button",{className:"text-xs text-amber-500 hover:text-amber-400",children:"View All"})]}),e.jsxs("table",{className:"w-full text-left text-sm text-zinc-400",children:[e.jsx("thead",{className:"bg-zinc-950/50 text-zinc-500 uppercase font-bold text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Client Name"}),e.jsx("th",{className:"p-4",children:"Project Title"}),e.jsx("th",{className:"p-4",children:"Status"}),e.jsx("th",{className:"p-4",children:"Last Edited"}),e.jsx("th",{className:"p-4 text-right",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800",children:R.map((A,Y)=>e.jsxs("tr",{className:"hover:bg-zinc-800/30 transition-colors",children:[e.jsx("td",{className:"p-4 font-medium text-white",children:A.name}),e.jsx("td",{className:"p-4",children:A.project}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold border ${A.status==="Completed"?"bg-green-900/20 text-green-400 border-green-900":A.status==="In Progress"?"bg-amber-900/20 text-amber-400 border-amber-900":"bg-zinc-800 text-zinc-400 border-zinc-700"}`,children:A.status})}),e.jsx("td",{className:"p-4",children:A.date}),e.jsx("td",{className:"p-4 text-right",children:e.jsx("button",{className:"text-zinc-300 hover:text-white bg-zinc-800 hover:bg-zinc-700 px-3 py-1 rounded text-xs transition-colors",children:"Open"})})]},Y))})]})]})]})]})]})})},Sa=({project:t,setProject:s,slides:c,setSlides:o,onBack:n,user:x})=>{const d=(x==null?void 0:x.role)==="ADMIN",[h,b]=r.useState("DASHBOARD"),[f,w]=r.useState("SLIDES"),[m,a]=r.useState(""),[j,S]=r.useState(!1),[T,_]=r.useState(""),[U,ie]=r.useState(""),[R,ee]=r.useState(""),[re,N]=r.useState(""),[A,Y]=r.useState(""),[K,te]=r.useState(""),[ce,de]=r.useState([]),[ze,Ne]=r.useState(""),[he,we]=r.useState(""),[xe,ye]=r.useState(""),[J,me]=r.useState([]);r.useEffect(()=>{const g=localStorage.getItem("cinepitch_global_banner"),v=localStorage.getItem("cinepitch_maintenance");g&&a(g),v&&S(v==="true"),_(localStorage.getItem("cinepitch_youtube_link")||""),ie(localStorage.getItem("cinepitch_whatsapp_link")||""),ee(localStorage.getItem("cinepitch_social_facebook")||""),N(localStorage.getItem("cinepitch_social_twitter")||""),Y(localStorage.getItem("cinepitch_social_instagram")||""),te(localStorage.getItem("cinepitch_social_linkedin")||"");const y=localStorage.getItem("cinepitch_custom_social_links");if(y)try{de(JSON.parse(y))}catch(z){console.error("Error loading custom links",z)}Ne(localStorage.getItem("cinepitch_contact_address")||`2nd floor, Kalathil Buildings,
Akampadam, Eranhimangad.P.O.,
Nilambur, Malappuram, Kerala - 679329`),we(localStorage.getItem("cinepitch_contact_email")||"aicinemasuite@gmail.com"),ye(localStorage.getItem("cinepitch_contact_phone")||"9946704365");const L=localStorage.getItem("cinepitch_faqs");if(L)try{me(JSON.parse(L))}catch{console.error("Failed to parse FAQs")}else me([{q:"How does the AI work?",a:"We use advanced Gemini models to analyze your script."},{q:"Is my script secure?",a:"Yes. Your script is processed securely in your browser session."}])},[]);const Se=()=>{localStorage.setItem("cinepitch_global_banner",m),localStorage.setItem("cinepitch_maintenance",String(j)),localStorage.setItem("cinepitch_youtube_link",T),localStorage.setItem("cinepitch_whatsapp_link",U),localStorage.setItem("cinepitch_social_facebook",R),localStorage.setItem("cinepitch_social_twitter",re),localStorage.setItem("cinepitch_social_instagram",A),localStorage.setItem("cinepitch_social_linkedin",K),localStorage.setItem("cinepitch_custom_social_links",JSON.stringify(ce)),localStorage.setItem("cinepitch_contact_address",ze),localStorage.setItem("cinepitch_contact_email",he),localStorage.setItem("cinepitch_contact_phone",xe),localStorage.setItem("cinepitch_faqs",JSON.stringify(J)),alert("System Settings & Social Links Saved Successfully!")},V=()=>{de([...ce,{id:`link-${Date.now()}`,label:"",url:""}])},ue=(g,v,y)=>{const L=[...ce];L[g][v]=y,de(L)},H=g=>{const v=[...ce];v.splice(g,1),de(v)},ne=async()=>{try{await Ae.save(t,c,null)}catch{alert("Backup failed. See console.")}},B=()=>{me([...J,{q:"New Question?",a:"New Answer."}])},Re=g=>{const v=[...J];v.splice(g,1),me(v)},D=(g,v,y)=>{const L=[...J];L[g][v]=y,me(L)},be=(g,v)=>{o(c.map(y=>y.id===g?{...y,...v}:y))},fe=g=>{o(c.filter(v=>v.id!==g))},le=(g,v)=>{var y;s({...t,characters:(y=t.characters)==null?void 0:y.map(L=>L.id===g?{...L,...v}:L)})},Ge=g=>{var v;s({...t,characters:(v=t.characters)==null?void 0:v.filter(y=>y.id!==g)})},$e=(g,v)=>{var y;s({...t,showcaseScenes:(y=t.showcaseScenes)==null?void 0:y.map(L=>L.id===g?{...L,...v}:L)})},se=(g,v)=>{var y;s({...t,posters:(y=t.posters)==null?void 0:y.map(L=>L.id===g?{...L,...v}:L)})},ke=g=>{var v;s({...t,posters:(v=t.posters)==null?void 0:v.filter(y=>y.id!==g)})},Ie=(g,v)=>{var y;s({...t,videos:(y=t.videos)==null?void 0:y.map(L=>L.id===g?{...L,...v}:L)})},Be=g=>{var v;s({...t,videos:(v=t.videos)==null?void 0:v.filter(y=>y.id!==g)})},Te=(g,v,y)=>{var z;const L=(z=g.target.files)==null?void 0:z[0];if(L){const W=new FileReader;W.onloadend=()=>{const q=W.result;v==="SLIDES"&&be(y,{imageUrl:q}),v==="CHARACTERS"&&le(y,{imageUrl:q}),v==="SCENES"&&$e(y,{imageUrl:q}),v==="POSTERS"&&se(y,{imageUrl:q}),v==="VIDEOS"&&Ie(y,{url:q})},W.readAsDataURL(L)}},[He]=r.useState([{id:1,name:"Noushadali",email:"director@studio.com",role:"ADMIN",credits:999999,status:"Active"},{id:2,name:"John Doe",email:"john@example.com",role:"EDITOR",credits:500,status:"Active"},{id:3,name:"Sarah Smith",email:"sarah@example.com",role:"VIEWER",credits:0,status:"Inactive"},{id:4,name:"Mike Ross",email:"mike.r@example.com",role:"EDITOR",credits:120,status:"Active"}]),ve=()=>{var g;return e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-6 rounded-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(i.Layout,{size:64})}),e.jsx("h3",{className:"text-zinc-500 text-xs uppercase font-bold mb-2",children:"Project Slides"}),e.jsx("p",{className:"text-4xl font-bold text-white",children:c.length}),e.jsxs("button",{onClick:()=>{b("DATABASE"),w("SLIDES")},className:"text-amber-500 text-xs mt-4 flex items-center hover:underline",children:["Manage Slides ",e.jsx(i.ArrowRight,{size:12,className:"ml-1"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-6 rounded-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(i.Users,{size:64})}),e.jsx("h3",{className:"text-zinc-500 text-xs uppercase font-bold mb-2",children:"Cast & Characters"}),e.jsx("p",{className:"text-4xl font-bold text-white",children:((g=t.characters)==null?void 0:g.length)||0}),e.jsxs("button",{onClick:()=>{b("DATABASE"),w("CHARACTERS")},className:"text-amber-500 text-xs mt-4 flex items-center hover:underline",children:["Manage Cast ",e.jsx(i.ArrowRight,{size:12,className:"ml-1"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-6 rounded-xl relative overflow-hidden",children:[e.jsx("div",{className:"bg-red-600/20 text-red-500 absolute top-4 right-4 px-2 py-1 rounded text-[10px] font-bold",children:"LIVE"}),e.jsx("h3",{className:"text-zinc-500 text-xs uppercase font-bold mb-2",children:"Session Memory"}),e.jsxs("p",{className:"text-4xl font-bold text-white",children:[(JSON.stringify(t).length/1024).toFixed(1)," KB"]}),e.jsx("p",{className:"text-zinc-500 text-xs mt-4",children:"Local Browser Storage"})]}),d&&e.jsxs("div",{className:"bg-gradient-to-br from-red-900/30 to-zinc-900 border border-red-900/50 p-6 rounded-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(i.ShieldCheck,{size:64})}),e.jsx("h3",{className:"text-red-400 text-xs uppercase font-bold mb-2",children:"System Users"}),e.jsx("p",{className:"text-4xl font-bold text-white",children:He.length}),e.jsxs("button",{onClick:()=>{b("SYSTEM")},className:"text-white text-xs mt-4 flex items-center hover:underline",children:["Admin Panel ",e.jsx(i.ArrowRight,{size:12,className:"ml-1"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(I,{variant:"secondary",className:"h-24 flex flex-col items-center justify-center gap-2",onClick:()=>{b("DATABASE"),w("SLIDES")},children:[e.jsx(i.Plus,{size:24})," ",e.jsx("span",{children:"Add Slide"})]}),e.jsxs(I,{variant:"secondary",className:"h-24 flex flex-col items-center justify-center gap-2",onClick:()=>{b("SETTINGS")},children:[e.jsx(i.Settings,{size:24})," ",e.jsx("span",{children:"Metadata"})]}),d&&e.jsxs(I,{variant:"secondary",className:"h-24 flex flex-col items-center justify-center gap-2 border-red-900/50 bg-red-900/10 hover:bg-red-900/20 text-red-400",onClick:()=>{b("SYSTEM")},children:[e.jsx(i.ShieldCheck,{size:24})," ",e.jsx("span",{children:"Sys Admin"})]}),e.jsxs(I,{variant:"secondary",className:"h-24 flex flex-col items-center justify-center gap-2",onClick:ne,children:[e.jsx(i.Save,{size:24})," ",e.jsx("span",{children:"Backup Data"})]})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Project Health"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1 text-zinc-400",children:[e.jsx("span",{children:"Slide Content Completion"}),e.jsxs("span",{children:[Math.round(c.filter(v=>v.content.length>50).length/c.length*100),"%"]})]}),e.jsx("div",{className:"w-full bg-zinc-950 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${c.filter(v=>v.content.length>50).length/c.length*100}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1 text-zinc-400",children:[e.jsx("span",{children:"Asset Generation"}),e.jsxs("span",{children:[Math.round(c.filter(v=>v.imageUrl).length/c.length*100),"%"]})]}),e.jsx("div",{className:"w-full bg-zinc-950 rounded-full h-2",children:e.jsx("div",{className:"bg-amber-600 h-2 rounded-full",style:{width:`${c.filter(v=>v.imageUrl).length/c.length*100}%`}})})]})]})]})]})]})},Le=()=>{const g=()=>{var v,y,L;switch(f){case"SLIDES":return e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-zinc-950 text-zinc-500 text-xs uppercase tracking-wider sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 w-16",children:"#"}),e.jsx("th",{className:"p-4 w-24",children:"Visual"}),e.jsx("th",{className:"p-4 w-1/4",children:"Title (Editable)"}),e.jsx("th",{className:"p-4",children:"Content Preview (Editable)"}),e.jsx("th",{className:"p-4 w-32 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800 text-sm text-zinc-300",children:c.map((z,W)=>e.jsxs("tr",{className:"hover:bg-zinc-800/50 group",children:[e.jsx("td",{className:"p-4 text-zinc-500 font-mono",children:W+1}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"w-16 h-10 bg-zinc-900 rounded overflow-hidden relative cursor-pointer hover:ring-2 hover:ring-amber-500",children:[z.imageUrl?e.jsx("img",{src:z.imageUrl,className:"w-full h-full object-cover"}):e.jsx(i.Image,{className:"m-auto mt-2 text-zinc-700"}),e.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",accept:"image/*",onChange:q=>Te(q,"SLIDES",z.id)})]})}),e.jsx("td",{className:"p-4",children:e.jsx("input",{className:"w-full bg-transparent border border-transparent hover:border-zinc-700 focus:border-amber-500 focus:bg-zinc-900 rounded p-1 outline-none transition-all",value:z.title,onChange:q=>be(z.id,{title:q.target.value})})}),e.jsx("td",{className:"p-4",children:e.jsx("input",{className:"w-full bg-transparent border border-transparent hover:border-zinc-700 focus:border-amber-500 focus:bg-zinc-900 rounded p-1 outline-none transition-all text-zinc-500",value:z.content.substring(0,100),onChange:q=>be(z.id,{content:q.target.value})})}),e.jsx("td",{className:"p-4 text-right",children:e.jsx("button",{onClick:()=>fe(z.id),className:"text-zinc-600 hover:text-red-500 p-2",children:e.jsx(i.Trash2,{size:16})})})]},z.id))})]});case"CHARACTERS":return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6 p-4",children:(v=t.characters)==null?void 0:v.map(z=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden group relative",children:[e.jsxs("div",{className:"aspect-square relative",children:[z.imageUrl?e.jsx("img",{src:z.imageUrl,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-700",children:e.jsx(i.User,{size:32})}),e.jsx("button",{onClick:()=>Ge(z.id),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(i.Trash2,{size:12})}),e.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",accept:"image/*",onChange:W=>Te(W,"CHARACTERS",z.id),title:"Upload Image"})]}),e.jsx("div",{className:"p-2",children:e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-1 text-xs text-white font-bold text-center",value:z.name,onChange:W=>le(z.id,{name:W.target.value})})})]},z.id))});case"POSTERS":return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6 p-4",children:(y=t.posters)==null?void 0:y.map(z=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden group relative",children:[e.jsxs("div",{className:"aspect-[2/3] relative",children:[z.imageUrl?e.jsx("img",{src:z.imageUrl,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-700",children:e.jsx(i.Image,{size:32})}),e.jsx("button",{onClick:()=>ke(z.id),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(i.Trash2,{size:12})}),e.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",accept:"image/*",onChange:W=>Te(W,"POSTERS",z.id)})]}),e.jsx("div",{className:"p-2",children:e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-1 text-xs text-white font-bold text-center",value:z.title,onChange:W=>se(z.id,{title:W.target.value})})})]},z.id))});case"VIDEOS":return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-4",children:(L=t.videos)==null?void 0:L.map(z=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden group relative",children:[e.jsxs("div",{className:"aspect-video relative bg-black",children:[e.jsx("video",{src:z.url,className:"w-full h-full object-cover opacity-50"}),e.jsx("button",{onClick:()=>Be(z.id),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10",children:e.jsx(i.Trash2,{size:12})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white font-bold text-xs pointer-events-none",children:z.source})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-1 text-xs text-white font-bold",value:z.title,onChange:W=>Ie(z.id,{title:W.target.value})}),e.jsx("p",{className:"text-[10px] text-zinc-500 mt-1",children:new Date(z.createdAt).toLocaleDateString()})]})]},z.id))});default:return e.jsx("div",{className:"p-8 text-center text-zinc-500",children:"Select a category"})}};return e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden min-h-[500px] flex flex-col animate-in fade-in duration-300",children:[e.jsx("div",{className:"border-b border-zinc-800 flex bg-zinc-950 overflow-x-auto no-scrollbar",children:["SLIDES","CHARACTERS","POSTERS","VIDEOS"].map(v=>e.jsx("button",{onClick:()=>w(v),className:`px-6 py-4 text-sm font-bold border-b-2 transition-colors whitespace-nowrap ${f===v?"border-amber-500 text-white bg-zinc-900":"border-transparent text-zinc-500 hover:text-zinc-300"}`,children:v},v))}),e.jsx("div",{className:"flex-1 overflow-auto",children:g()})]})},je=()=>e.jsx("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(i.Settings,{size:20,className:"text-zinc-400"})," General Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Project Title"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:border-amber-500 outline-none",value:t.title,onChange:g=>s({...t,title:g.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Director / Creator"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:border-amber-500 outline-none",value:t.director,onChange:g=>s({...t,director:g.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Genre"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:border-amber-500 outline-none",value:t.genre,onChange:g=>s({...t,genre:g.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Language Mode"}),e.jsxs("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:border-amber-500 outline-none",value:t.language,onChange:g=>s({...t,language:g.target.value}),children:[e.jsx("option",{value:"en",children:"English (International)"}),e.jsx("option",{value:"ml",children:"Malayalam (Regional)"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Logline"}),e.jsx("textarea",{className:"w-full h-24 bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:border-amber-500 outline-none resize-none",value:t.logline,onChange:g=>s({...t,logline:g.target.value})})]})]})]})}),pe=()=>e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"bg-red-900/20 border border-red-900/50 p-6 rounded-xl text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-500 uppercase tracking-widest mb-2",children:"Super Admin Console"}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"You are viewing the global system configuration. Changes here affect all users."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(i.Zap,{className:"text-amber-500",size:18})," System Announcements"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-2",children:"Banner Message"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-3 text-white text-sm",placeholder:"e.g. System maintenance scheduled for 10 PM",value:m,onChange:g=>a(g.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[e.jsx("input",{type:"checkbox",id:"maintMode",checked:j,onChange:g=>S(g.target.checked),className:"w-4 h-4 rounded bg-zinc-800 border-zinc-700"}),e.jsx("label",{htmlFor:"maintMode",className:"text-sm text-zinc-300 cursor-pointer",children:"Enable Maintenance Mode (Lock Access)"})]})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(i.Globe,{className:"text-blue-500",size:18})," Social Media & Links"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"Facebook"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"https://facebook.com/...",value:R,onChange:g=>ee(g.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"X (Twitter)"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"https://x.com/...",value:re,onChange:g=>N(g.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"Instagram"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"https://instagram.com/...",value:A,onChange:g=>Y(g.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"LinkedIn"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"https://linkedin.com/...",value:K,onChange:g=>te(g.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"YouTube Channel"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"https://youtube.com/...",value:T,onChange:g=>_(g.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"WhatsApp Group"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"https://chat.whatsapp.com/...",value:U,onChange:g=>ie(g.target.value)})]}),e.jsxs("div",{className:"pt-4 border-t border-zinc-800 mt-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase",children:"Additional Links"}),e.jsxs("button",{onClick:V,className:"text-xs flex items-center gap-1 text-amber-500 hover:text-amber-400",children:[e.jsx(i.Plus,{size:10})," Add Item"]})]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:ce.map((g,v)=>e.jsxs("div",{className:"flex gap-2 items-center bg-zinc-950 p-2 rounded border border-zinc-800",children:[e.jsx("div",{className:"w-1/3",children:e.jsx("input",{className:"w-full bg-transparent text-xs text-white placeholder-zinc-600 border-b border-zinc-800 focus:border-amber-500 outline-none pb-1",placeholder:"Label (e.g. TikTok)",value:g.label,onChange:y=>ue(v,"label",y.target.value)})}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{className:"w-full bg-transparent text-xs text-zinc-400 placeholder-zinc-700 border-b border-zinc-800 focus:border-amber-500 outline-none pb-1",placeholder:"https://...",value:g.url,onChange:y=>ue(v,"url",y.target.value)})}),e.jsx("button",{onClick:()=>H(v),className:"text-zinc-600 hover:text-red-500",children:e.jsx(i.Trash2,{size:12})})]},g.id))})]})]})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(i.HelpCircle,{className:"text-green-500",size:18})," Help & Support Content"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-bold text-zinc-400 uppercase",children:"Contact Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"Office Address (Multiline)"}),e.jsx("textarea",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm h-24 resize-none",value:ze,onChange:g=>Ne(g.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"Email"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm",value:he,onChange:g=>we(g.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"Phone / Whatsapp"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm",value:xe,onChange:g=>ye(g.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-sm font-bold text-zinc-400 uppercase",children:"FAQ Items"}),e.jsxs("button",{onClick:B,className:"text-xs bg-zinc-800 hover:bg-zinc-700 text-white px-2 py-1 rounded flex items-center gap-1",children:[e.jsx(i.Plus,{size:12})," Add Item"]})]}),e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto pr-2",children:J.map((g,v)=>e.jsxs("div",{className:"bg-zinc-950 p-3 rounded border border-zinc-800 relative group",children:[e.jsx("button",{onClick:()=>Re(v),className:"absolute top-2 right-2 text-zinc-600 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(i.Trash2,{size:12})}),e.jsx("input",{className:"w-full bg-transparent text-xs font-bold text-white mb-1 border-b border-zinc-800 focus:border-amber-500 outline-none pb-1",placeholder:"Question...",value:g.q,onChange:y=>D(v,"q",y.target.value)}),e.jsx("textarea",{className:"w-full bg-transparent text-xs text-zinc-400 resize-none outline-none",placeholder:"Answer...",rows:2,value:g.a,onChange:y=>D(v,"a",y.target.value)})]},v))})]})]})]}),e.jsx("div",{className:"pt-4 border-t border-zinc-800 flex justify-end",children:e.jsx(I,{variant:"accent",onClick:Se,className:"px-8 py-3 font-bold text-lg",children:"Publish Changes"})})]});return e.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[e.jsxs("header",{className:"h-16 border-b border-zinc-800 bg-zinc-900 flex items-center justify-between px-6 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:n,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400 transition-colors",title:"Back to Studio",children:e.jsx(i.ChevronLeft,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white tracking-wide cinematic-font",children:d?e.jsx("span",{className:"text-red-500",children:"SYSTEM ADMIN"}):"PROJECT DASHBOARD"}),e.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-widest",children:d?"Master Control":t.title})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})," ",d?"Admin Mode":"User Mode"]})})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("aside",{className:"w-64 border-r border-zinc-800 bg-zinc-950 flex flex-col py-6 px-3 gap-1",children:[e.jsxs("button",{onClick:()=>b("DASHBOARD"),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 text-sm font-medium transition-colors ${h==="DASHBOARD"?"bg-amber-600/10 text-amber-500 border border-amber-600/20":"text-zinc-400 hover:bg-zinc-900 hover:text-white"}`,children:[e.jsx(i.Layout,{size:18})," ",d?"Overview":"Project Stats"]}),e.jsxs("button",{onClick:()=>b("DATABASE"),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 text-sm font-medium transition-colors ${h==="DATABASE"?"bg-amber-600/10 text-amber-500 border border-amber-600/20":"text-zinc-400 hover:bg-zinc-900 hover:text-white"}`,children:[e.jsx(i.Grid,{size:18})," Content Manager"]}),e.jsxs("button",{onClick:()=>b("SETTINGS"),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 text-sm font-medium transition-colors ${h==="SETTINGS"?"bg-amber-600/10 text-amber-500 border border-amber-600/20":"text-zinc-400 hover:bg-zinc-900 hover:text-white"}`,children:[e.jsx(i.Settings,{size:18})," Settings"]}),d&&e.jsxs("button",{onClick:()=>b("SYSTEM"),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 text-sm font-medium transition-colors mt-8 border border-red-900/30 ${h==="SYSTEM"?"bg-red-900/20 text-red-500":"text-red-800 hover:bg-red-900/10"}`,children:[e.jsx(i.ShieldCheck,{size:18})," System Admin"]})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-8 bg-black",children:[h==="DASHBOARD"&&ve(),h==="DATABASE"&&Le(),h==="SETTINGS"&&je(),h==="SYSTEM"&&d&&pe()]})]})]})},Ot=({onClose:t})=>{const[s,c]=r.useState("FAQ"),o=localStorage.getItem("cinepitch_youtube_link")||"https://www.youtube.com/",n=localStorage.getItem("cinepitch_whatsapp_link")||"https://wa.me/919946704365",[x,d]=r.useState(""),[h,b]=r.useState(""),[f,w]=r.useState(""),[m,a]=r.useState([]);return r.useEffect(()=>{d(localStorage.getItem("cinepitch_contact_address")||`2nd floor, Kalathil Buildings,
Akampadam, Eranhimangad.P.O.,
Nilambur, Malappuram, Kerala - 679329`),b(localStorage.getItem("cinepitch_contact_email")||"aicinemasuite@gmail.com"),w(localStorage.getItem("cinepitch_contact_phone")||"9946704365");const j=localStorage.getItem("cinepitch_faqs");if(j)try{a(JSON.parse(j))}catch{console.error("Error loading FAQs")}else a([{q:"How does the AI work?",a:"We use advanced Gemini models (Flash 2.5 & Veo) to analyze your script/logline and generate industry-standard text, images, and video trailers."},{q:"Is my script secure?",a:"Yes. Your script is processed securely in your browser session and sent directly to Google's AI API. We do not store your intellectual property on our servers."},{q:"Can I use the images commercially?",a:"Yes. Images generated by AI generally belong to the creator (you), but checking local laws regarding AI copyright is recommended."},{q:"How much does it cost?",a:"Text generation is extremely cheap. Image generation costs ~$0.04/image. Video generation varies by duration."},{q:"Can I export to PDF?",a:"Currently, you can save your project file (.json) to resume later. A direct PDF export feature is available in the main menu."}])},[]),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"w-full max-w-2xl bg-zinc-900 border border-zinc-800 rounded-2xl shadow-2xl flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"p-6 border-b border-zinc-800 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-amber-500/10 p-2 rounded-lg text-amber-500",children:e.jsx(i.HelpCircle,{size:24})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>c("FAQ"),className:`text-lg font-bold transition-colors ${s==="FAQ"?"text-white":"text-zinc-500 hover:text-zinc-300"}`,children:"FAQ & Help"}),e.jsx("div",{className:"w-px bg-zinc-700 h-6"}),e.jsx("button",{onClick:()=>c("CONTACT"),className:`text-lg font-bold transition-colors ${s==="CONTACT"?"text-white":"text-zinc-500 hover:text-zinc-300"}`,children:"Contact Us"})]})]}),e.jsx("button",{onClick:t,className:"text-zinc-500 hover:text-white transition-colors",children:e.jsx(i.Minimize2,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:s==="FAQ"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-900/40 to-zinc-900 border border-red-900/30 rounded-xl p-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-white font-bold flex items-center gap-2 mb-1 text-lg",children:[e.jsx(i.Youtube,{size:24,className:"text-red-500"})," Watch Video Tutorials"]}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Learn how to create pitch decks, generate characters, and more on our YouTube channel."})]}),e.jsxs("a",{href:o,target:"_blank",rel:"noreferrer",className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2 shrink-0",children:["Visit Channel ",e.jsx(i.ExternalLink,{size:14})]})]}),m.map((j,S)=>e.jsxs("div",{className:"bg-zinc-950/50 rounded-xl p-4 border border-zinc-800/50",children:[e.jsxs("h3",{className:"text-zinc-200 font-bold mb-2 flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-500",children:"Q."})," ",j.q]}),e.jsx("p",{className:"text-zinc-400 text-sm leading-relaxed pl-6 whitespace-pre-line",children:j.a})]},S))]}):e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"bg-zinc-950 rounded-xl p-8 border border-zinc-800 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-zinc-900 rounded-full flex items-center justify-center mx-auto mb-4 border border-zinc-700",children:e.jsx(i.MapPin,{size:32,className:"text-amber-500"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2 cinematic-font",children:"Pixelgraph Media"}),e.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Innovative AI Media Solutions"}),e.jsx("div",{className:"text-zinc-300 text-sm leading-relaxed whitespace-pre-line",children:x})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("a",{href:n,target:"_blank",rel:"noreferrer",className:"bg-zinc-950 p-4 rounded-xl border border-zinc-800 flex items-center gap-4 hover:border-green-500/50 hover:bg-zinc-900 transition-colors group cursor-pointer",children:[e.jsx("div",{className:"p-3 bg-green-900/20 text-green-500 rounded-lg group-hover:bg-green-900/30",children:e.jsx(i.MessageSquare,{size:24})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-zinc-500 uppercase font-bold flex items-center gap-1",children:["WhatsApp Community ",e.jsx(i.ExternalLink,{size:10})]}),e.jsx("p",{className:"text-white font-bold group-hover:text-green-400 transition-colors",children:"Join Group / Chat"}),e.jsx("p",{className:"text-[10px] text-zinc-500 mt-1 font-mono",children:f})]})]}),e.jsxs("div",{className:"bg-zinc-950 p-4 rounded-xl border border-zinc-800 flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-900/20 text-blue-500 rounded-lg",children:e.jsx(i.Box,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Email"}),e.jsx("a",{href:`mailto:${h}`,className:"text-white hover:text-amber-500 transition-colors text-sm",children:h})]})]})]})]})}),e.jsxs("div",{className:"p-4 border-t border-zinc-800 bg-zinc-900 rounded-b-2xl flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-zinc-500",children:s==="FAQ"?"Need personalized help?":"We usually reply within 24 hours."}),e.jsx("button",{onClick:t,className:"px-6 py-2 bg-zinc-100 text-zinc-900 rounded-md font-bold hover:bg-white",children:"Close"})]})]})})},za=({onLogin:t})=>{const[s,c]=r.useState(!0),[o,n]=r.useState(!1),[x,d]=r.useState(""),[h,b]=r.useState(""),[f,w]=r.useState(!1),[m,a]=r.useState({}),[j,S]=r.useState([]);r.useEffect(()=>{a({fb:localStorage.getItem("cinepitch_social_facebook")||"",x:localStorage.getItem("cinepitch_social_twitter")||"",insta:localStorage.getItem("cinepitch_social_instagram")||"",yt:localStorage.getItem("cinepitch_youtube_link")||"",linkedin:localStorage.getItem("cinepitch_social_linkedin")||""});const R=localStorage.getItem("cinepitch_custom_social_links");if(R)try{S(JSON.parse(R))}catch(ee){console.error("Error loading custom links",ee)}},[]);const T=R=>{R.preventDefault(),w(!0),setTimeout(()=>{if(w(!1),o){alert("If an account matches that email, a reset link has been sent."),n(!1),c(!0);return}const ee=localStorage.getItem("cinepitch_user_password")||"123456";h===ee?t(x):alert("Invalid Password. (Hint: Default is 123456)")},1500)},_=()=>{w(!0),setTimeout(()=>{w(!1),t("guest@example.com")},1e3)},U=()=>{confirm("⚠️ BETA ACTION: This will clear all local data and reset the app. Use only if the app is stuck. Continue?")&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},ie=Object.values(m).some(R=>typeof R=="string"&&R.length>0)||j.length>0;return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[url('https://images.unsplash.com/photo-1440404653325-ab127d49abc1?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),e.jsx("div",{className:"absolute top-0 right-0 p-4 z-20",children:e.jsx("span",{className:"bg-amber-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg border border-amber-400/50",children:"BETA v1.0"})}),e.jsxs("div",{className:"relative z-10 w-full max-w-md p-8 bg-zinc-950/90 border border-zinc-800 rounded-2xl shadow-2xl animate-fade-in",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4 text-amber-500",children:e.jsx(i.Clapperboard,{size:48})}),e.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 cinematic-font tracking-wider",children:["AICINEMA",e.jsx("span",{className:"text-amber-500",children:"SUITE"}),".COM"]}),e.jsx("p",{className:"text-zinc-400 text-sm tracking-wide",children:"The Intelligent Production Studio"})]}),o?e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsx("h3",{className:"text-white font-bold text-lg text-center",children:"Reset Password"}),e.jsx("p",{className:"text-zinc-400 text-xs text-center mb-4",children:"Enter your email address and we'll send you a link to reset your password."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",required:!0,className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none pl-10",placeholder:"name@company.com",value:x,onChange:R=>d(R.target.value)}),e.jsx(i.User,{className:"absolute left-3 top-3.5 text-zinc-600",size:16})]})]}),e.jsx(I,{className:"w-full py-3 text-sm font-bold bg-amber-600 hover:bg-amber-500 text-white mt-4",isLoading:f,children:"Send Reset Link"}),e.jsx("button",{type:"button",onClick:()=>n(!1),className:"w-full text-center text-xs text-zinc-500 hover:text-white mt-2",children:"Cancel and go back to Login"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",required:!0,className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none pl-10",placeholder:"name@company.com",value:x,onChange:R=>d(R.target.value)}),e.jsx(i.User,{className:"absolute left-3 top-3.5 text-zinc-600",size:16})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",required:!0,className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none pl-10",placeholder:"••••••••",value:h,onChange:R=>b(R.target.value)}),e.jsx(i.Settings,{className:"absolute left-3 top-3.5 text-zinc-600",size:16})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("label",{className:"flex items-center text-zinc-400",children:[e.jsx("input",{type:"checkbox",className:"mr-2 rounded bg-zinc-800 border-zinc-700 text-amber-600 focus:ring-0"}),"Remember me"]}),e.jsx("button",{type:"button",onClick:()=>n(!0),className:"text-amber-500 hover:text-amber-400",children:"Forgot Password?"})]}),e.jsx(I,{className:"w-full py-3 text-sm font-bold bg-amber-600 hover:bg-amber-500 text-white mt-4",isLoading:f,children:s?"Sign In":"Create Account"})]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-zinc-800"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-zinc-950 px-2 text-zinc-500",children:"Or continue with"})})]}),e.jsxs("button",{onClick:_,disabled:f,className:"w-full bg-white text-black hover:bg-zinc-200 font-bold py-3 rounded-lg flex items-center justify-center gap-3 transition-colors text-sm",children:[e.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",children:e.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[e.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),e.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.059 -13.144 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),e.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.769 -21.864 51.959 -21.864 51.129 C -21.864 50.299 -21.734 49.489 -21.484 48.729 L -21.484 45.639 C -26.284 47.269 -26.754 49.129 -26.754 51.129 C -26.754 53.129 -26.284 54.989 -25.464 56.619 L -21.484 53.529 Z"}),e.jsx("path",{fill:"#EA4335",d:"M -14.754 43.769 C -12.984 43.769 -11.404 44.379 -10.154 45.579 L -6.744 42.169 C -8.804 40.249 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -22.434 46.099 -25.084 43.769 -14.754 43.769 Z"})]})}),"Sign in with Google"]}),e.jsxs("div",{className:"mt-6 text-center text-xs text-zinc-500",children:[s?"Don't have an account?":"Already have an account?",e.jsx("button",{onClick:()=>c(!s),className:"ml-2 text-white hover:underline font-medium",children:s?"Sign Up":"Log In"})]})]}),ie&&e.jsxs("div",{className:"mt-8 border-t border-zinc-800 pt-6",children:[e.jsx("p",{className:"text-center text-[10px] text-zinc-500 uppercase tracking-widest mb-4 font-bold",children:"Follow Us"}),e.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[m.fb&&e.jsx("a",{href:m.fb,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-blue-500 transition-colors bg-zinc-900 p-2 rounded-full border border-zinc-800 hover:border-blue-500/50",children:e.jsx(i.Facebook,{size:18})}),m.x&&e.jsx("a",{href:m.x,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-white transition-colors bg-zinc-900 p-2 rounded-full border border-zinc-800 hover:border-white/50",children:e.jsx(i.Twitter,{size:18})}),m.insta&&e.jsx("a",{href:m.insta,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-pink-500 transition-colors bg-zinc-900 p-2 rounded-full border border-zinc-800 hover:border-pink-500/50",children:e.jsx(i.Instagram,{size:18})}),m.yt&&e.jsx("a",{href:m.yt,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-red-600 transition-colors bg-zinc-900 p-2 rounded-full border border-zinc-800 hover:border-red-600/50",children:e.jsx(i.Youtube,{size:18})}),m.linkedin&&e.jsx("a",{href:m.linkedin,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-blue-400 transition-colors bg-zinc-900 p-2 rounded-full border border-zinc-800 hover:border-blue-400/50",children:e.jsx(i.Linkedin,{size:18})}),j.map(R=>e.jsx("a",{href:R.url,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-amber-500 transition-colors bg-zinc-900 p-2 rounded-full border border-zinc-800 hover:border-amber-500/50",title:R.label,children:e.jsx(i.Globe,{size:18})},R.id))]})]}),e.jsxs("div",{className:"mt-8 border-t border-zinc-800 pt-6 text-center space-y-4",children:[e.jsx("p",{className:"text-[10px] text-zinc-600",children:"By continuing, you agree to AICINEMASUITE.com Terms of Service & Privacy Policy."}),e.jsxs("button",{onClick:U,className:"text-[10px] text-red-900 hover:text-red-500 uppercase font-bold flex items-center justify-center gap-1 mx-auto transition-colors",children:[e.jsx(i.AlertTriangle,{size:10})," App Not Loading? Clear Data"]})]})]})]})},Ca=({onClose:t})=>{const[s,c]=r.useState(null),[o,n]=r.useState(""),[x,d]=r.useState(!1),h=()=>{console.log("Feedback Submitted:",{rating:s,comment:o}),d(!0),setTimeout(()=>{t()},2e3)};return e.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl w-full max-w-md p-6 relative overflow-hidden",children:[e.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-zinc-500 hover:text-white",children:e.jsx(i.X,{size:20})}),x?e.jsxs("div",{className:"text-center py-8 animate-in fade-in zoom-in",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/20 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(i.Check,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Thank You!"}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Your feedback helps build the future of AICINEMASUITE.com."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-amber-600/20 p-2 rounded-lg text-amber-500",children:e.jsx(i.MessageSquare,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Beta Feedback"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Found a bug or have an idea?"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-3",children:"How is your experience?"}),e.jsx("div",{className:"flex justify-between gap-2",children:[1,2,3,4,5].map(b=>e.jsx("button",{onClick:()=>c(b),className:`flex-1 py-3 rounded-lg border transition-all ${s===b?"bg-amber-600 border-amber-500 text-white shadow-lg shadow-amber-900/50":"bg-zinc-950 border-zinc-800 text-zinc-500 hover:border-zinc-600 hover:text-zinc-300"}`,children:e.jsx("span",{className:"text-lg font-bold",children:b})},b))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Details"}),e.jsx("textarea",{className:"w-full h-32 bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white text-sm resize-none focus:border-amber-500 outline-none placeholder-zinc-700",placeholder:"Tell us what you love or what's broken...",value:o,onChange:b=>n(b.target.value)})]}),e.jsx(I,{variant:"accent",className:"w-full",disabled:!s,onClick:h,children:"Send Feedback"})]})]})]})})},Aa=()=>{const[t,s]=r.useState(!1),[c,o]=r.useState([{role:"model",content:"Hello! I'm the AI Cinema Master. How can I assist with your production today?"}]),[n,x]=r.useState(""),[d,h]=r.useState(!1),b=r.useRef(null),f=()=>{var m;(m=b.current)==null||m.scrollIntoView({behavior:"smooth"})};r.useEffect(()=>{t&&f()},[c,t]);const w=async()=>{if(!n.trim()||d)return;const m=n.trim();x(""),o(a=>[...a,{role:"user",content:m}]),h(!0);try{const a=await ba(c,m);a&&o(j=>[...j,{role:"model",content:a}])}catch{o(j=>[...j,{role:"model",content:"Sorry, I encountered a connection error."}])}finally{h(!1)}};return e.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end",children:[t&&e.jsxs("div",{className:"mb-4 w-80 md:w-96 h-[500px] bg-zinc-900 border border-zinc-700 rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in slide-in-from-bottom-4 origin-bottom-right",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-amber-700 to-amber-600 flex justify-between items-center shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:e.jsx(i.Sparkles,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm leading-tight",children:"Cinema Master"}),e.jsx("p",{className:"text-[10px] text-amber-100 opacity-90",children:"Live Assistant"})]})]}),e.jsx("button",{onClick:()=>s(!1),className:"text-white/80 hover:text-white transition-colors",children:e.jsx(i.X,{size:18})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-zinc-950/50",children:[c.map((m,a)=>e.jsx("div",{className:`flex ${m.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-2 text-sm leading-relaxed ${m.role==="user"?"bg-amber-600 text-white rounded-br-none":"bg-zinc-800 text-zinc-200 rounded-bl-none border border-zinc-700"}`,children:m.content})},a)),d&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"bg-zinc-800 rounded-2xl rounded-bl-none px-4 py-3 border border-zinc-700 flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-zinc-500 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-zinc-500 rounded-full animate-bounce delay-100"}),e.jsx("div",{className:"w-2 h-2 bg-zinc-500 rounded-full animate-bounce delay-200"})]})}),e.jsx("div",{ref:b})]}),e.jsx("div",{className:"p-3 bg-zinc-900 border-t border-zinc-800 shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-700 rounded-full pl-4 pr-12 py-3 text-sm text-white focus:border-amber-500 focus:ring-1 focus:ring-amber-500 outline-none",placeholder:"Ask about script, shots...",value:n,onChange:m=>x(m.target.value),onKeyDown:m=>m.key==="Enter"&&w()}),e.jsx("button",{className:"absolute right-1 top-1 p-2 bg-amber-600 hover:bg-amber-500 text-white rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onClick:w,disabled:!n.trim()||d,children:e.jsx(i.ArrowRight,{size:16})})]})})]}),e.jsx("button",{onClick:()=>s(!t),className:`w-14 h-14 rounded-full shadow-2xl flex items-center justify-center transition-all transform hover:scale-105 active:scale-95 ${t?"bg-zinc-700 text-zinc-400 rotate-90":"bg-gradient-to-br from-amber-500 to-orange-600 text-white border-2 border-white/10"}`,children:t?e.jsx(i.X,{size:24}):e.jsx(i.MessageSquare,{size:28,fill:"currentColor"})})]})},ka=({toasts:t,removeToast:s})=>e.jsx("div",{className:"fixed bottom-6 right-6 z-[200] flex flex-col gap-2 pointer-events-none",children:t.map(c=>e.jsxs("div",{className:`
            pointer-events-auto min-w-[300px] max-w-sm bg-zinc-900 border shadow-2xl rounded-lg p-4 flex items-start gap-3 
            transform transition-all duration-300 animate-in slide-in-from-right-12 fade-in
            ${c.type==="success"?"border-green-900/50":""}
            ${c.type==="error"?"border-red-900/50":""}
            ${c.type==="info"?"border-blue-900/50":""}
            ${c.type==="warning"?"border-amber-900/50":""}
          `,children:[e.jsxs("div",{className:"mt-0.5 shrink-0",children:[c.type==="success"&&e.jsx(i.Check,{size:18,className:"text-green-500"}),c.type==="error"&&e.jsx(i.AlertTriangle,{size:18,className:"text-red-500"}),c.type==="info"&&e.jsx(i.Info,{size:18,className:"text-blue-500"}),c.type==="warning"&&e.jsx(i.AlertTriangle,{size:18,className:"text-amber-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`text-sm font-bold ${c.type==="success"?"text-green-400":c.type==="error"?"text-red-400":c.type==="warning"?"text-amber-400":"text-blue-400"}`,children:c.title}),c.message&&e.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:c.message})]}),e.jsx("button",{onClick:()=>s(c.id),className:"text-zinc-500 hover:text-white transition-colors",children:e.jsx(i.X,{size:14})})]},c.id))}),Ia=({onSave:t,onClose:s,isMandatory:c=!1})=>{const[o,n]=r.useState(""),[x,d]=r.useState(!1),h=w=>{w.preventDefault(),o.trim().length>10?t(o.trim()):alert("Please enter a valid API Key.")},b=()=>{confirm("Are you sure you want to remove your API Key?")&&t("")},f=!!localStorage.getItem("gemini_api_key");return e.jsx("div",{className:"fixed inset-0 z-[200] bg-black/95 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-300",children:e.jsxs("div",{className:"w-full max-w-md bg-zinc-900 border border-zinc-700 rounded-2xl shadow-2xl relative overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsx("div",{className:"absolute -top-24 -left-24 w-48 h-48 bg-amber-500/10 rounded-full blur-[100px] pointer-events-none"}),e.jsxs("div",{className:"p-8 overflow-y-auto flex-1 relative z-10",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-4 border border-zinc-700 shadow-lg",children:e.jsx(i.Key,{size:32,className:"text-amber-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2 cinematic-font",children:x?"How to Get a Key":f?"Manage API Key":"Activate Studio"}),e.jsx("p",{className:"text-sm text-zinc-400",children:x?"Follow these 3 simple steps to get your free key from Google.":"Connect your Google Gemini AI to start generating scripts, images, and videos."})]}),x?e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-300",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-zinc-800 border border-zinc-700 flex items-center justify-center text-xs font-bold text-white shrink-0",children:"1"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-zinc-300 mb-1",children:["Go to ",e.jsx("strong",{children:"Google AI Studio"}),"."]}),e.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-xs bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded-full transition-colors",children:["Open Link ",e.jsx(i.ExternalLink,{size:12})]})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-zinc-800 border border-zinc-700 flex items-center justify-center text-xs font-bold text-white shrink-0",children:"2"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-zinc-300 mb-1",children:["Click the blue ",e.jsx("strong",{children:'"Get API Key"'})," or ",e.jsx("strong",{children:'"Create API Key"'})," button."]}),e.jsx("p",{className:"text-[10px] text-zinc-500",children:"You may need to sign in with your Google account first."})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-zinc-800 border border-zinc-700 flex items-center justify-center text-xs font-bold text-white shrink-0",children:"3"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-zinc-300 mb-1",children:["Copy the key starting with ",e.jsx("code",{children:"AIza..."})]}),e.jsx("p",{className:"text-[10px] text-zinc-500",children:"Come back here and paste it in the box."})]})]})]}),e.jsxs(I,{variant:"secondary",className:"w-full",onClick:()=>d(!1),children:[e.jsx(i.ChevronLeft,{size:16,className:"mr-2"})," I have my key"]})]}):e.jsxs("form",{onSubmit:h,className:"space-y-4 animate-in slide-in-from-left duration-300",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-2",children:"Google API Key"}),e.jsx("input",{type:"password",className:"w-full bg-zinc-950 border border-zinc-700 rounded-lg p-3 text-white text-sm focus:ring-2 focus:ring-amber-500 outline-none transition-all placeholder-zinc-700",placeholder:f?"••••••••••••••••••••":"Paste key here (starts with AIzaSy...)",value:o,onChange:w=>n(w.target.value),autoFocus:!f})]}),!f&&e.jsxs("button",{type:"button",onClick:()=>d(!0),className:"w-full text-center text-xs text-amber-500 hover:text-amber-400 hover:underline py-2 flex items-center justify-center gap-1",children:[e.jsx(i.HelpCircle,{size:12})," I don't have a key, help me!"]}),e.jsxs("div",{className:"bg-zinc-800/50 p-3 rounded border border-zinc-700 flex gap-3 items-start",children:[e.jsx(i.ShieldCheck,{className:"text-green-500 shrink-0 mt-0.5",size:16}),e.jsx("p",{className:"text-[10px] text-zinc-400 leading-relaxed",children:"Your key is stored locally in your browser for this session. It is never sent to our servers."})]}),e.jsx(I,{variant:"accent",className:"w-full py-3 font-bold shadow-lg shadow-amber-900/20",children:f?"Update Key":"Save & Start"}),f&&e.jsx(I,{type:"button",variant:"danger",className:"w-full",onClick:b,children:"Disconnect / Remove Key"})]})]}),!c&&s&&e.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-zinc-600 hover:text-white transition-colors z-20",children:e.jsx(i.X,{size:20})})]})})},Ze=()=>({title:"",genre:"",logline:"",director:"",language:"en",fullScript:"",projectType:G.FEATURE_FILM,serviceType:Z.PITCH_DECK,showcaseScenes:[],characters:[],posters:[],audioAssets:[],videos:[],castList:[],crewList:[{id:"c1",role:"Director",name:""},{id:"c2",role:"Screenwriter",name:""},{id:"c3",role:"Producer",name:""},{id:"c4",role:"Cinematographer (DOP)",name:""},{id:"c5",role:"Editor",name:""}],vaultItems:[]}),Ta=()=>{const[t,s]=r.useState(!1),[c,o]=r.useState(!1),[n,x]=r.useState(null),[d,h]=r.useState($.SETUP),[b,f]=r.useState("DECK"),[w,m]=r.useState("SERVICES"),[a,j]=r.useState(Ze()),[S,T]=r.useState([]),[_,U]=r.useState(null),[ie,R]=r.useState("DECK"),[ee,re]=r.useState("DECK"),[N,A]=r.useState(!1),[Y,K]=r.useState(!1),[te,ce]=r.useState(!1),[de,ze]=r.useState(!1),[Ne,he]=r.useState(!1),[we,xe]=r.useState(!1),[ye,J]=r.useState(!1),[me,Se]=r.useState(null),[V,ue]=r.useState(!1),[H,ne]=r.useState([]),B=(u,p="info",C)=>{const k=Date.now().toString();ne(E=>[...E,{id:k,type:p,title:u,message:C}]),setTimeout(()=>{ne(E=>E.filter(Q=>Q.id!==k))},4e3)},Re=u=>{ne(p=>p.filter(C=>C.id!==u))},D=r.useRef(a),be=r.useRef(S),fe=r.useRef(_),le=r.useRef(me);r.useEffect(()=>{D.current=a},[a]),r.useEffect(()=>{be.current=S},[S]),r.useEffect(()=>{fe.current=_},[_]),r.useEffect(()=>{le.current=me},[me]),r.useEffect(()=>{const u=p=>{(S.length>0||a.title)&&(p.preventDefault(),p.returnValue="")};return window.addEventListener("beforeunload",u),()=>window.removeEventListener("beforeunload",u)},[S.length,a.title]),r.useEffect(()=>{const u=localStorage.getItem("cinepitch_auth_session"),p=localStorage.getItem("cinepitch_user_profile");u&&(s(!0),p&&x(JSON.parse(p))),o(!0),localStorage.getItem("cinepitch_project_meta")&&A(!0),!!localStorage.getItem("gemini_api_key")||J(!0)},[]),r.useEffect(()=>{const u=setInterval(()=>{le.current&&(console.log("Auto-Save Triggered..."),B("Auto-Saving...","info"),Ie())},3e5);return()=>clearInterval(u)},[]);const Ge=u=>{u?(localStorage.setItem("gemini_api_key",u),J(!1),B("Studio Activated","success","AI services are now online.")):(localStorage.removeItem("gemini_api_key"),J(!0))},$e=u=>{localStorage.setItem("cinepitch_auth_session","true");const p=u.toLowerCase()==="noushadart@gmail.com",C=u.split("@")[0],k=C.charAt(0).toUpperCase()+C.slice(1),E={name:k,email:u,role:p?"ADMIN":"USER",credits:p?999999:1e3,phone:""};x(E),localStorage.setItem("cinepitch_user_profile",JSON.stringify(E)),s(!0),B(`Welcome back, ${k}!`,"success")},se=u=>{if(!n)return;const p={...n,...u};if(u.email){const C=u.email.toLowerCase()==="noushadart@gmail.com";p.role=C?"ADMIN":"USER"}x(p),localStorage.setItem("cinepitch_user_profile",JSON.stringify(p)),B("Profile updated successfully","success")},ke=()=>{localStorage.removeItem("cinepitch_auth_session"),localStorage.removeItem("cinepitch_user_profile"),j(Ze()),T([]),U(null),A(!1),Se(null),m("SERVICES"),R("DECK"),re("DECK"),x(null),s(!1),h($.SETUP)},Ie=async()=>{if(V)return;ue(!0);const u=!!le.current;u||(document.title="Saving... Do not close",B("Packing project assets...","info","Please choose a location to save your .cinepitch file."));try{const p=await Ae.save(D.current,be.current,fe.current,le.current);p&&Se(p),localStorage.setItem("cinepitch_project_meta",JSON.stringify({title:D.current.title,lastSaved:new Date().toISOString()})),A(!0),B(u?"Auto-Saved Successfully":"Project Saved","success",u?void 0:"Your work is secure. We will auto-save to this file.")}catch(p){console.error("SAVE FAILED:",p),B("Save Failed","error",p.message)}finally{document.title="AICINEMASUITE | AI Film Studio",ue(!1)}},Be=async u=>{var k,E;const p=(k=u.target.files)==null?void 0:k[0];if(!p)return;const C=document.title;document.title="Loading Project...",B("Unpacking project file...","info");try{const Q=await Ae.load(p);if(Q){j(Q.project),T(Q.slides),U(Q.activeSlideId||((E=Q.slides[0])==null?void 0:E.id)),Se(null);const Pe="DECK";R(Pe),re(Pe),h($.STUDIO),A(!0),B("Project Loaded","success","Click Save to enable Auto-Save.")}}catch(Q){console.error("LOAD FAILED:",Q),B("Load Failed","error",Q.message)}finally{document.title=C,u.target.value=""}},Te=()=>{alert("Please use 'Open Project File' to load your full .cinepitch file. Browser auto-resume is disabled for large projects to prevent crashing.")},He=()=>{xe(!0),B("Generating PDF...","info","Please wait while we render your slides.");const u=document.getElementById("export-container"),p={margin:[10,10],filename:`${a.title}_PitchDeck.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"landscape"}};window.html2pdf?window.html2pdf().set(p).from(u).save().then(()=>{xe(!1),he(!1),B("PDF Exported","success")}):(alert("PDF Engine not loaded. Please refresh."),xe(!1))},ve=async()=>{var Q,Pe,Je,De;xe(!0),B("Zipping Assets...","info");const u=new window.JSZip,p=u.folder("images"),C=u.folder("vault");let k=0;const E=(O,X)=>{if(O&&O.startsWith("data:")){const Oe=O.split(",")[1];p.file(X,Oe,{base64:!0}),k++}};if(S.forEach((O,X)=>E(O.imageUrl,`Slide_${X+1}.png`)),(Q=a.showcaseScenes)==null||Q.forEach((O,X)=>E(O.imageUrl,`Scene_${X+1}.png`)),(Pe=a.characters)==null||Pe.forEach(O=>E(O.imageUrl,`Char_${O.name}.png`)),(Je=a.posters)==null||Je.forEach((O,X)=>E(O.imageUrl,`Poster_${X+1}.png`)),(De=a.castList)==null||De.forEach((O,X)=>{E(O.characterImage,`Cast_Char_${X+1}.png`),E(O.actorImage,`Cast_Actor_${X+1}.png`)}),a.vaultItems&&a.vaultItems.forEach((O,X)=>{if(O.url&&O.url.startsWith("data:")){const Oe=O.url.split(",")[1];C.file(O.fileName||`Vault_${X}`,Oe,{base64:!0}),k++}}),k===0){B("No images found","warning","Generate some content first!"),xe(!1);return}u.generateAsync({type:"blob"}).then(O=>{window.saveAs(O,`${a.title}_Assets.zip`),xe(!1),he(!1),B("Assets Downloaded","success")})},Le=()=>{m("SERVICES"),h($.SETUP)},je=()=>{j(Ze()),T([]),U(null),Se(null)},[pe,g]=r.useState(!1),[v,y]=r.useState(!1),[L,z]=r.useState(!1),[W,q]=r.useState(!1),[Ve,We]=r.useState(null),tt=u=>{if(!a.title)return;const p=Lt[a.projectType]||Lt[G.FEATURE_FILM];if(S.length===0){const C=p.map((k,E)=>({id:`slide-${Date.now()}-${E}`,title:k.title,description:k.description,placeholder:k.placeholderText,content:"",imagePrompt:"",imageUrl:null}));T(C),U(C[0].id)}R(u),re(u),h($.STUDIO)},st=()=>{const u={id:`slide-${Date.now()}`,title:"New Custom Slide",content:"",imagePrompt:"",imageUrl:null,isCustom:!0,description:"Use this slide for additional details, research, or custom content.",placeholder:"Type your content here..."};T([...S,u])},Ee=(u,p)=>{T(S.map(C=>C.id===u?{...C,...p}:C))},_e=()=>S.find(u=>u.id===_),at=u=>{j(p=>({...p,characters:[...p.characters||[],u]}))},it=(u,p)=>{j(C=>{var k;return{...C,characters:(k=C.characters)==null?void 0:k.map(E=>E.id===u?{...E,...p}:E)}})},rt=u=>{j(p=>({...p,posters:[...p.posters||[],u]}))},nt=(u,p)=>{j(C=>{var k;return{...C,posters:(k=C.posters)==null?void 0:k.map(E=>E.id===u?{...E,...p}:E)}})},lt=(u,p)=>{j(C=>{var k;return{...C,showcaseScenes:(k=C.showcaseScenes)==null?void 0:k.map(E=>E.id===u?{...E,...p}:E)}})},ot=u=>{j(p=>({...p,audioAssets:[...p.audioAssets||[],u]}))},ct=u=>{j(p=>({...p,videos:[...p.videos||[],u]}))},dt=u=>{j(p=>{var C;return{...p,videos:(C=p.videos)==null?void 0:C.filter(k=>k.id!==u)}})},xt=(u,p)=>{We(p),u.dataTransfer.effectAllowed="move"},mt=(u,p)=>{u.preventDefault()},ht=(u,p)=>{if(u.preventDefault(),Ve===null||Ve===p)return;const C=[...S],[k]=C.splice(Ve,1);C.splice(p,0,k),T(C),We(null)},ut=async u=>{const p=_e();if(p){y(!0);try{const C=await es(a,p.title,p.content,u);Ee(p.id,{imagePrompt:C})}finally{y(!1)}}},pt=async()=>{const u=_e();if(u){g(!0);try{const p=await ma(a,u.title,u.content);Ee(u.id,{content:p})}finally{g(!1)}}},gt=async()=>{const u=_e();if(!(!u||!u.imagePrompt)){z(!0);try{const p=await ts(u.imagePrompt,"16:9");p&&Ee(u.id,{imageUrl:p})}finally{z(!1)}}},bt=async()=>{q(!0);try{const u=await ga(a,a.showcaseScenes||[]);u?j(p=>({...p,showcaseScenes:[...p.showcaseScenes||[],u]})):B("Scene Gen Failed","error")}finally{q(!1)}},ft=u=>{var E;const p=_e();if(!p||!((E=u.target.files)!=null&&E[0]))return;const C=u.target.files[0],k=new FileReader;k.onloadend=()=>{Ee(p.id,{imageUrl:k.result})},k.readAsDataURL(C)},qe=et[a.language],vt=()=>e.jsx("div",{className:"fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl w-full max-w-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2 cinematic-font",children:"Export Project"}),e.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Choose your export format."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:He,disabled:we,className:"w-full p-4 bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 rounded-lg flex items-center gap-4 transition-all group",children:[e.jsx("div",{className:"bg-red-900/30 p-3 rounded-full text-red-500 group-hover:text-white group-hover:bg-red-600 transition-colors",children:e.jsx(i.FileText,{size:24})}),e.jsx("div",{className:"text-left",children:e.jsx("h4",{className:"font-bold text-white",children:"Download as PDF"})})]}),e.jsxs("button",{onClick:ve,disabled:we,className:"w-full p-4 bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 rounded-lg flex items-center gap-4 transition-all group",children:[e.jsx("div",{className:"bg-blue-900/30 p-3 rounded-full text-blue-500 group-hover:text-white group-hover:bg-blue-600 transition-colors",children:e.jsx(i.Image,{size:24})}),e.jsx("div",{className:"text-left",children:e.jsx("h4",{className:"font-bold text-white",children:"Download Image Pack (ZIP)"})})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(I,{variant:"ghost",onClick:()=>he(!1),disabled:we,children:"Cancel"})})]})}),jt=()=>{var p;const u=localStorage.getItem("cinepitch_youtube_link")||"https://www.youtube.com/";return e.jsxs("div",{className:"absolute top-0 right-0 p-4 z-50 flex gap-3 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 mr-4 bg-zinc-900/80 p-1 pr-3 rounded-full border border-zinc-800",children:[e.jsx("span",{className:"bg-amber-600 text-white text-[10px] font-bold px-2 py-0.5 rounded-full uppercase",children:"Beta v1.0"}),e.jsxs("button",{onClick:()=>ce(!0),className:"text-xs text-zinc-400 hover:text-white flex items-center gap-1 transition-colors",children:[e.jsx(i.MessageSquare,{size:12})," Feedback"]})]}),e.jsxs("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"hidden md:flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-zinc-400 hover:text-white hover:bg-zinc-800 rounded-full transition-colors border border-transparent hover:border-zinc-700 mr-2",children:[e.jsx(i.Youtube,{size:14,className:"text-red-600"}),e.jsx("span",{children:"Tutorials"})]}),e.jsxs("div",{className:"flex bg-zinc-900 border border-zinc-800 rounded-full p-1 mr-2",children:[e.jsx("button",{onClick:()=>j({...a,language:"en"}),className:`px-3 py-1 rounded-full text-xs font-bold transition-colors ${a.language==="en"?"bg-amber-600 text-white":"text-zinc-500 hover:text-white"}`,children:"EN"}),e.jsx("button",{onClick:()=>j({...a,language:"ml"}),className:`px-3 py-1 rounded-full text-xs font-bold transition-colors ${a.language==="ml"?"bg-amber-600 text-white":"text-zinc-500 hover:text-white"}`,children:"ML"})]}),e.jsx("button",{onClick:()=>K(!0),className:"text-zinc-500 hover:text-white transition-colors",children:e.jsx(i.HelpCircle,{size:24})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>ze(!de),className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-500 to-red-600 flex items-center justify-center text-white font-bold shadow-lg hover:ring-2 hover:ring-amber-500 transition-all text-xs overflow-hidden",children:((p=n==null?void 0:n.name)==null?void 0:p.charAt(0))||"U"}),de&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-zinc-900 border border-zinc-800 rounded-lg shadow-xl py-1 z-50 animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-zinc-800 mb-1",children:[e.jsx("p",{className:"text-white font-bold text-sm truncate",children:(n==null?void 0:n.name)||"Guest"}),e.jsx("p",{className:"text-zinc-500 text-[10px] truncate",children:(n==null?void 0:n.email)||""}),(n==null?void 0:n.role)==="ADMIN"&&e.jsx("span",{className:"text-[9px] bg-red-600 text-white px-1 rounded ml-1",children:"OWNER"})]}),e.jsxs("button",{onClick:()=>{h($.PROFILE),ze(!1)},className:"w-full text-left px-4 py-2 text-zinc-400 hover:text-white hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(i.User,{size:14})," ",qe.myProfile]}),e.jsxs("button",{onClick:()=>{h($.ADMIN),ze(!1)},className:"w-full text-left px-4 py-2 text-zinc-400 hover:text-white hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(i.Settings,{size:14}),(n==null?void 0:n.role)==="ADMIN"?"System Admin":"Project Settings"]}),e.jsxs("button",{onClick:()=>J(!0),className:"w-full text-left px-4 py-2 text-amber-500 hover:text-amber-400 hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(i.Key,{size:14})," Manage API Key"]}),e.jsxs("button",{onClick:ke,className:"w-full text-left px-4 py-2 text-red-400 hover:text-red-300 hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(i.LogOut,{size:14})," ",qe.logout]})]})]})]})};return c?t?e.jsxs("div",{className:"relative font-sans text-zinc-200 selection:bg-amber-500/30",children:[e.jsx(ka,{toasts:H,removeToast:Re}),e.jsx(Aa,{}),ye&&e.jsx(Ia,{onSave:Ge,onClose:()=>J(!1),isMandatory:!localStorage.getItem("gemini_api_key")}),e.jsxs("div",{id:"export-container",className:"fixed left-[9999px] top-0 w-[1280px]",children:[e.jsxs("div",{className:"w-full h-[720px] relative bg-black flex flex-col items-center justify-center text-center p-20 break-after-page",children:[e.jsx("h1",{className:"text-8xl font-bold text-white mb-6 uppercase tracking-tighter cinematic-font",children:a.title}),e.jsxs("p",{className:"text-3xl text-amber-500 uppercase tracking-widest mb-12",children:[a.genre," | ",a.director]}),e.jsx("div",{className:"max-w-4xl text-2xl text-zinc-300 leading-relaxed",children:a.logline})]}),S.map((u,p)=>e.jsxs("div",{className:"w-full h-full relative bg-black flex break-after-page overflow-hidden",children:[e.jsx("div",{className:"w-1/2 h-full relative",children:u.imageUrl?e.jsx("img",{src:u.imageUrl,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-zinc-900 flex items-center justify-center text-zinc-700",children:"NO VISUAL"})}),e.jsxs("div",{className:"w-1/2 h-full p-16 bg-zinc-950 border-l border-zinc-800 flex flex-col justify-center",children:[e.jsx("h2",{className:"text-5xl font-bold text-white mb-8 cinematic-font",children:u.title}),e.jsx("p",{className:"text-xl text-zinc-300 leading-relaxed whitespace-pre-wrap",children:u.content}),e.jsxs("div",{className:"mt-auto pt-8 border-t border-zinc-800 text-zinc-500 flex justify-between",children:[e.jsx("span",{children:a.title}),e.jsxs("span",{children:["Page ",p+1]})]})]})]},u.id))]}),d===$.SETUP&&e.jsx(jt,{}),Y&&e.jsx(Ot,{onClose:()=>K(!1)}),te&&e.jsx(Ca,{onClose:()=>ce(!1)}),Ne&&e.jsx(vt,{}),d===$.SETUP&&e.jsx(fa,{project:a,setProject:j,onStart:tt,onResume:N?Te:void 0,onLoadFromFile:Be,hasSavedProject:N,step:w,setStep:m,onReset:je}),d===$.STUDIO&&e.jsx("div",{className:"animate-in fade-in duration-500",children:e.jsx(ja,{project:a,slides:S,activeSlideId:_,setActiveSlideId:U,onUpdateSlide:Ee,onAddSlide:st,onPresentationMode:u=>{f(u||"DECK"),h($.PRESENTATION)},onStructureMode:()=>h($.SETUP),onGoHome:Le,onDragStart:xt,onDragOver:mt,onDrop:ht,onGenerateContent:pt,isGeneratingContent:pe,onAutoPrompt:ut,isGeneratingPrompt:v,onGenerateImage:gt,isGeneratingImage:L,onFileUpload:ft,showcaseScenes:a.showcaseScenes||[],onGenerateNextScene:bt,isGeneratingScene:W,onUpdateScene:lt,onAddCharacter:at,onUpdateCharacter:it,onAddPoster:rt,onUpdatePoster:nt,onAddAudio:ot,onAddVideo:ct,onDeleteVideo:dt,initialTab:ie,onTabChange:u=>re(u),onSave:Ie,onExport:()=>he(!0),onOpenProfile:()=>h($.PROFILE),onOpenAdmin:()=>h($.ADMIN),onLogout:ke,onOpenFAQ:()=>K(!0),currentUser:n,onUpdateProject:u=>j(p=>({...p,...u}))})}),d===$.PRESENTATION&&(b==="STORYBOARD"?e.jsx(wa,{project:a,scenes:a.showcaseScenes||[],onClose:()=>h($.STUDIO)}):e.jsx(Na,{project:a,slides:S,activeSlideId:_,setActiveSlideId:U,onClose:()=>h($.STUDIO)})),d===$.PROFILE&&e.jsx(ya,{onBack:()=>h($.STUDIO),user:n,onUpdateUser:se}),d===$.ADMIN&&e.jsx(Sa,{project:a,setProject:j,slides:S,setSlides:T,onBack:()=>h($.STUDIO),user:n})]}):e.jsxs(e.Fragment,{children:[e.jsx(za,{onLogin:$e}),Y&&e.jsx(Ot,{onClose:()=>K(!1)}),e.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:e.jsx("button",{onClick:()=>K(!0),className:"text-xs text-zinc-500 hover:text-amber-500 transition-colors",children:"Contact & Support"})})]}):null},ss=document.getElementById("root");if(!ss)throw new Error("Could not find root element to mount to");const Ea=Qe.createRoot(ss);Ea.render(e.jsx(ms.StrictMode,{children:e.jsx(Ta,{})}));
